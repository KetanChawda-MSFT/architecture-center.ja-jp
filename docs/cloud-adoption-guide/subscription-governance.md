---
title: Azure に移行する企業のためのベスト プラクティス | Microsoft Docs
description: 企業が安全で管理しやすい環境を確保するために使用できるスキャフォールディングについて説明します。
services: azure-resource-manager
documentationcenter: na
author: rdendtler
manager: timlt
editor: tysonn
ms.assetid: 8692f37e-4d33-4100-b472-a8da37ce628f
ms.service: azure-resource-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/31/2017
ms.author: rodend;karlku;tomfitz
ms.openlocfilehash: 8bc2ed253b951ea04eb25b76f67dcc2092dc94ad
ms.sourcegitcommit: 4ec010846b9b5545c843a32e08293f906e512302
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/17/2018
---
# <a name="azure-enterprise-scaffold---prescriptive-subscription-governance"></a><span data-ttu-id="8268b-103">Azure エンタープライズ スキャフォールディング - 規範的なサブスクリプション ガバナンス</span><span class="sxs-lookup"><span data-stu-id="8268b-103">Azure enterprise scaffold - prescriptive subscription governance</span></span>
<span data-ttu-id="8268b-104">俊敏性と柔軟性を求めてパブリック クラウドを採用する企業がますます増えています。</span><span class="sxs-lookup"><span data-stu-id="8268b-104">Enterprises are increasingly adopting the public cloud for its agility and flexibility.</span></span> <span data-ttu-id="8268b-105">これらの企業は、クラウドの強みを活かして収益を生み出したり、ビジネスのリソースを最適化したりしています。</span><span class="sxs-lookup"><span data-stu-id="8268b-105">They are utilizing the cloud's strengths to generate revenue or optimize resources for the business.</span></span> <span data-ttu-id="8268b-106">Microsoft Azure は、企業がさまざまなワークロードやアプリケーションに対応するためにブロックのように組み立てることができる多数のサービスを提供しています。</span><span class="sxs-lookup"><span data-stu-id="8268b-106">Microsoft Azure provides a multitude of services that enterprises can assemble like building blocks to address a wide array of workloads and applications.</span></span> 

<span data-ttu-id="8268b-107">しかし、何から始めたらよいのかわからないことも少なくありません。</span><span class="sxs-lookup"><span data-stu-id="8268b-107">But, knowing where to begin is often difficult.</span></span> <span data-ttu-id="8268b-108">Azure を使用することを決定した後、一般に次のような疑問が生じます。</span><span class="sxs-lookup"><span data-stu-id="8268b-108">After deciding to use Azure, a few questions commonly arise:</span></span>

* <span data-ttu-id="8268b-109">"特定の国でのデータの主権に関する法的要件を満たすにはどうすればよいか"</span><span class="sxs-lookup"><span data-stu-id="8268b-109">"How do I meet our legal requirements for data sovereignty in certain countries?"</span></span>
* <span data-ttu-id="8268b-110">"重要なシステムが誤って変更されないようにするにはどうすればよいか"</span><span class="sxs-lookup"><span data-stu-id="8268b-110">"How do I ensure that someone does not inadvertently change a critical system?"</span></span>
* <span data-ttu-id="8268b-111">"各リソースがサポートしているものを把握し、その明細を明らかにして正確に課金できるようにするにはどうすればよいか"</span><span class="sxs-lookup"><span data-stu-id="8268b-111">"How do I know what every resource is supporting so I can account for it and bill it back accurately?"</span></span>

<span data-ttu-id="8268b-112">ガード レールのない空のサブスクリプションでは見通しが立ちません。</span><span class="sxs-lookup"><span data-stu-id="8268b-112">The prospect of an empty subscription with no guard rails is daunting.</span></span> <span data-ttu-id="8268b-113">この空のスペースは、Azure への移行の妨げとなる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-113">This blank space can hamper your move to Azure.</span></span>

<span data-ttu-id="8268b-114">この記事は、技術者がガバナンスのニーズに対処し、俊敏性のニーズとのバランスを取る際の出発点となります。</span><span class="sxs-lookup"><span data-stu-id="8268b-114">This article provides a starting point for technical professionals to address the need for governance, and balance it with the need for agility.</span></span> <span data-ttu-id="8268b-115">この記事では、組織が Azure サブスクリプションを実装および管理する際の指針となるエンタープライズ スキャフォールディングの概念について説明します。</span><span class="sxs-lookup"><span data-stu-id="8268b-115">It introduces the concept of an enterprise scaffold that guides organizations in implementing and managing their Azure subscriptions.</span></span> 

## <a name="need-for-governance"></a><span data-ttu-id="8268b-116">ガバナンスのニーズ</span><span class="sxs-lookup"><span data-stu-id="8268b-116">Need for governance</span></span>
<span data-ttu-id="8268b-117">Azure に移行する場合、企業内でクラウドを有効に活用するために、早期にガバナンスに対処する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-117">When moving to Azure, you must address the topic of governance early to ensure the successful use of the cloud within the enterprise.</span></span> <span data-ttu-id="8268b-118">しかし、包括的なガバナンス システムの構築には時間がかかり、煩雑さを伴うため、IT 部門を関与させずに直接ベンダーに依頼するビジネス グループもあります。</span><span class="sxs-lookup"><span data-stu-id="8268b-118">Unfortunately, the time and bureaucracy of creating a comprehensive governance system means some business groups go directly to vendors without involving enterprise IT.</span></span> <span data-ttu-id="8268b-119">このアプローチでは、リソースが適切に管理されていない場合に、企業が脆弱性にさらされたままになるおそれがあります。</span><span class="sxs-lookup"><span data-stu-id="8268b-119">This approach can leave the enterprise open to vulnerabilities if the resources are not properly managed.</span></span> <span data-ttu-id="8268b-120">パブリック クラウドの俊敏性、柔軟性、従量課金という特性は、(社内と外部の両方の) 顧客のニーズに速やかに対応する必要があるビジネス グループにとって重要です。</span><span class="sxs-lookup"><span data-stu-id="8268b-120">The characteristics of the public cloud - agility, flexibility, and consumption-based pricing - are important to business groups that need to quickly meet the demands of customers (both internal and external).</span></span> <span data-ttu-id="8268b-121">ただし、IT 部門はデータとシステムを効果的に保護できるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-121">But, enterprise IT needs to ensure that data and systems are effectively protected.</span></span>

<span data-ttu-id="8268b-122">実際には、スキャフォールディングを使用して構造の基礎を作成します。</span><span class="sxs-lookup"><span data-stu-id="8268b-122">In real life, scaffolding is used to create the basis of the structure.</span></span> <span data-ttu-id="8268b-123">スキャフォールディングは概要を示し、より永続的なシステムを実装するためのアンカー ポイントを提供します。</span><span class="sxs-lookup"><span data-stu-id="8268b-123">The scaffold guides the general outline, and provides anchor points for more permanent systems to be mounted.</span></span> <span data-ttu-id="8268b-124">エンタープライズ スキャフォールディングも同様であり、環境を構造化する一連の柔軟な制御と Azure の機能、およびパブリック クラウド上に構築されるサービスのアンカーを提供します。</span><span class="sxs-lookup"><span data-stu-id="8268b-124">An enterprise scaffold is the same: a set of flexible controls and Azure capabilities that provide structure to the environment, and anchors for services built on the public cloud.</span></span> <span data-ttu-id="8268b-125">エンタープライズ スキャフォールディングは、ビルダー (IT 部門とビジネス グループ) が新しいサービスを作成し、配置するための基盤となります。</span><span class="sxs-lookup"><span data-stu-id="8268b-125">It provides the builders (IT and business groups) a foundation to create and attach new services.</span></span>

<span data-ttu-id="8268b-126">スキャフォールディングは、さまざまな規模のクライアントとの多数の取り組みの中で収集された実践に基づいています。</span><span class="sxs-lookup"><span data-stu-id="8268b-126">The scaffold is based on practices we have gathered from many engagements with clients of various sizes.</span></span> <span data-ttu-id="8268b-127">これらのクライアントは、クラウドでソリューションを開発している小規模の組織から、クラウドでソリューションの移行と開発を行っている Fortune 500 の企業や独立系ソフトウェア ベンダーまでさまざまです。</span><span class="sxs-lookup"><span data-stu-id="8268b-127">Those clients range from small organizations developing solutions in the cloud to Fortune 500 enterprises and independent software vendors who are migrating and developing solutions in the cloud.</span></span> <span data-ttu-id="8268b-128">エンタープライズ スキャフォールディングは、従来型 IT ワークロードとアジャイル ワークロード (Azure の機能に基づくサービスとしてのソフトウェア (SaaS) アプリケーションの開発など) の両方を柔軟にサポートできるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="8268b-128">The enterprise scaffold is "purpose-built" to be flexible to support both traditional IT workloads and agile workloads; such as, developers creating software-as-a-service (SaaS) applications based on Azure capabilities.</span></span>

<span data-ttu-id="8268b-129">エンタープライズ スキャフォールディングは、Azure 内の新しい各サブスクリプションの基盤として使用することを目的としています。</span><span class="sxs-lookup"><span data-stu-id="8268b-129">The enterprise scaffold is intended to be the foundation of each new subscription within Azure.</span></span> <span data-ttu-id="8268b-130">エンタープライズ スキャフォールディングにより、管理者は、ビジネス グループや開発者が各自の目標を速やかに達成するのを妨げることなく、組織のガバナンスの最小要件を満たすワークロードを実現できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-130">It enables administrators to ensure workloads meet the minimum governance requirements of an organization without preventing business groups and developers from quickly meeting their own goals.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8268b-131">ガバナンスは Azure の成功に不可欠です。</span><span class="sxs-lookup"><span data-stu-id="8268b-131">Governance is crucial to the success of Azure.</span></span> <span data-ttu-id="8268b-132">この記事は、エンタープライズ スキャフォールディングの技術的な実装を対象としていますが、広範なプロセスとコンポーネント間の関係だけを取り上げています。</span><span class="sxs-lookup"><span data-stu-id="8268b-132">This article targets the technical implementation of an enterprise scaffold but only touches on the broader process and relationships between the components.</span></span> <span data-ttu-id="8268b-133">ポリシー ガバナンスのフローはトップダウンであり、その企業が目指していることによって決まります。</span><span class="sxs-lookup"><span data-stu-id="8268b-133">Policy governance flows from the top down and is determined by what the business wants to achieve.</span></span> <span data-ttu-id="8268b-134">当然ながら、Azure のガバナンス モデルの作成には IT 部門の担当者が参加しますが、さらに重要なことは、ビジネス グループのリーダーの有力な代表者とセキュリティおよびリスク管理部門も参加することです。</span><span class="sxs-lookup"><span data-stu-id="8268b-134">Naturally, the creation of a governance model for Azure includes representatives from IT, but more importantly it should have strong representation from business group leaders, and security and risk management.</span></span> <span data-ttu-id="8268b-135">要するに、エンタープライズ スキャフォールディングとは、ビジネス リスクを軽減して組織の任務や目的を推進することです。</span><span class="sxs-lookup"><span data-stu-id="8268b-135">In the end, an enterprise scaffold is about mitigating business risk to facilitate an organization's mission and objectives.</span></span>
> 
> 

<span data-ttu-id="8268b-136">次の図は、スキャフォールディングのコンポーネントを示しています。</span><span class="sxs-lookup"><span data-stu-id="8268b-136">The following image describes the components of the scaffold.</span></span> <span data-ttu-id="8268b-137">基礎は、部門、アカウント、サブスクリプションの確かな計画に依存しています。</span><span class="sxs-lookup"><span data-stu-id="8268b-137">The foundation relies on a solid plan for departments, accounts, and subscriptions.</span></span> <span data-ttu-id="8268b-138">柱は、Resource Manager ポリシーと厳密な命名規則で構成されます。</span><span class="sxs-lookup"><span data-stu-id="8268b-138">The pillars consist of Resource Manager policies and strong naming standards.</span></span> <span data-ttu-id="8268b-139">スキャフォールディングの残りの部分は、安全で管理しやすい環境を実現する Azure のコア機能に基づきます。</span><span class="sxs-lookup"><span data-stu-id="8268b-139">The rest of the scaffold comes from core Azure capabilities and features that enable a secure and manageable environment.</span></span>

![スキャフォールディングのコンポーネント](./_images/components.png)

> [!NOTE]
> <span data-ttu-id="8268b-141">Azure は、2008 年に導入されて以来、急成長してきました。</span><span class="sxs-lookup"><span data-stu-id="8268b-141">Azure has grown rapidly since its introduction in 2008.</span></span> <span data-ttu-id="8268b-142">この成長を実現するために、Microsoft のエンジニアリング チームはサービスの管理とデプロイの方法を再考する必要がありました。</span><span class="sxs-lookup"><span data-stu-id="8268b-142">This growth required Microsoft engineering teams to rethink their approach for managing and deploying services.</span></span> <span data-ttu-id="8268b-143">2014 年に導入された Azure Resource Manager モデルは、クラシック デプロイ モデルに代わるものです。</span><span class="sxs-lookup"><span data-stu-id="8268b-143">The Azure Resource Manager model was introduced in 2014 and replaces the classic deployment model.</span></span> <span data-ttu-id="8268b-144">Resource Manager により、組織は Azure リソースのデプロイ、整理、管理をより簡単に行うことができます。</span><span class="sxs-lookup"><span data-stu-id="8268b-144">Resource Manager enables organizations to more easily deploy, organize, and control Azure resources.</span></span> <span data-ttu-id="8268b-145">Resource Manager では、相互に依存する複雑なソリューションのデプロイを迅速化するために、リソースの作成時に並列処理が行われます。</span><span class="sxs-lookup"><span data-stu-id="8268b-145">Resource Manager includes parallelization when creating resources for faster deployment of complex, interdependent solutions.</span></span> <span data-ttu-id="8268b-146">また、きめ細かいアクセス制御が可能であり、メタデータでリソースにタグ付けすることもできます。</span><span class="sxs-lookup"><span data-stu-id="8268b-146">It also includes granular access control, and the ability to tag resources with metadata.</span></span> <span data-ttu-id="8268b-147">Microsoft では、Resource Manager モデルを使用してすべてのリソースを作成することを推奨しています。</span><span class="sxs-lookup"><span data-stu-id="8268b-147">Microsoft recommends that you create all resources through the Resource Manager model.</span></span> <span data-ttu-id="8268b-148">エンタープライズ スキャフォールディングは、Resource Manager モデル向けに設計されています。</span><span class="sxs-lookup"><span data-stu-id="8268b-148">The enterprise scaffold is explicitly designed for the Resource Manager model.</span></span>
> 
> 

## <a name="define-your-hierarchy"></a><span data-ttu-id="8268b-149">階層の定義</span><span class="sxs-lookup"><span data-stu-id="8268b-149">Define your hierarchy</span></span>
<span data-ttu-id="8268b-150">スキャフォールディングの基盤は、Azure エンタープライズ加入契約 (および Enterprise Portal) です。</span><span class="sxs-lookup"><span data-stu-id="8268b-150">The foundation of the scaffold is the Azure Enterprise Enrollment (and the Enterprise Portal).</span></span> <span data-ttu-id="8268b-151">エンタープライズ加入契約は、企業内での Azure サービスの構造と使用法を定める、中核となるガバナンス構造です。</span><span class="sxs-lookup"><span data-stu-id="8268b-151">The enterprise enrollment defines the shape and use of Azure services within a company and is the core governance structure.</span></span> <span data-ttu-id="8268b-152">顧客は、エンタープライズ契約の範囲内で環境を部門、アカウント、サブスクリプションにさらに分割できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-152">Within the enterprise agreement, customers are able to further subdivide the environment into departments, accounts, and finally, subscriptions.</span></span> <span data-ttu-id="8268b-153">Azure サブスクリプションは、すべてのリソースが含まれる基本単位です。</span><span class="sxs-lookup"><span data-stu-id="8268b-153">An Azure subscription is the basic unit where all resources are contained.</span></span> <span data-ttu-id="8268b-154">また、サブスクリプションによって Azure 内での制限 (コア数、リソース数など) が定められます。</span><span class="sxs-lookup"><span data-stu-id="8268b-154">It also defines several limits within Azure, such as number of cores, resources, etc.</span></span>

![階層](./_images/agreement.png)

<span data-ttu-id="8268b-156">企業はそれぞれ異なるので、前の図の階層はその企業での Azure の構造に非常に柔軟に対応します。</span><span class="sxs-lookup"><span data-stu-id="8268b-156">Every enterprise is different and the hierarchy in the previous image allows for significant flexibility in how Azure is organized within the company.</span></span> <span data-ttu-id="8268b-157">このドキュメントに記載されたガイダンスを実践する前に、実際の階層をモデル化し、課金、リソース アクセス、複雑さへの影響を理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-157">Before implementing the guidance contained in this document, you should model your hierarchy and understand the impact on billing, resource access, and complexity.</span></span>

<span data-ttu-id="8268b-158">Azure の加入契約には、次の 3 つの一般的なパターンがあります。</span><span class="sxs-lookup"><span data-stu-id="8268b-158">The three common patterns for Azure Enrollments are:</span></span>

* <span data-ttu-id="8268b-159">**機能**パターン</span><span class="sxs-lookup"><span data-stu-id="8268b-159">The **functional** pattern</span></span>
  
    ![functional](./_images/functional.png)
* <span data-ttu-id="8268b-161">**部署**パターン</span><span class="sxs-lookup"><span data-stu-id="8268b-161">The **business unit** pattern</span></span> 
  
    ![ビジネス](./_images/business.png)
* <span data-ttu-id="8268b-163">**地域**パターン</span><span class="sxs-lookup"><span data-stu-id="8268b-163">The **geographic** pattern</span></span>
  
    ![地域](./_images/geographic.png)

<span data-ttu-id="8268b-165">企業のガバナンス要件をサブスクリプションにも適用するために、サブスクリプション レベルでスキャフォールディングを適用します。</span><span class="sxs-lookup"><span data-stu-id="8268b-165">You apply the scaffold at the subscription level to extend the governance requirements of the enterprise into the subscription.</span></span>

## <a name="naming-standards"></a><span data-ttu-id="8268b-166">命名規則</span><span class="sxs-lookup"><span data-stu-id="8268b-166">Naming standards</span></span>
<span data-ttu-id="8268b-167">スキャフォールディングの最初の柱は命名規則です。</span><span class="sxs-lookup"><span data-stu-id="8268b-167">The first pillar of the scaffold is naming standards.</span></span> <span data-ttu-id="8268b-168">適切に設計された命名規則を使用することで、ポータル、請求書、スクリプトでリソースを識別できるようになります。</span><span class="sxs-lookup"><span data-stu-id="8268b-168">Well-designed naming standards enable you to identify resources in the portal, on a bill, and within scripts.</span></span> <span data-ttu-id="8268b-169">ほとんどの場合、オンプレミスのインフラストラクチャの命名規則が既にあります。</span><span class="sxs-lookup"><span data-stu-id="8268b-169">Most likely, you already have naming standards for on-premises infrastructure.</span></span> <span data-ttu-id="8268b-170">Azure を環境に追加するときは、それらの命名規則をAzure リソースにも適用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-170">When adding Azure to your environment, you should extend those naming standards to your Azure resources.</span></span> <span data-ttu-id="8268b-171">命名規則により、あらゆるレベルで環境のより効率的な管理が促進されます。</span><span class="sxs-lookup"><span data-stu-id="8268b-171">Naming standard facilitate more efficient management of the environment at all levels.</span></span>

> [!TIP]
> <span data-ttu-id="8268b-172">命名規則のヒント</span><span class="sxs-lookup"><span data-stu-id="8268b-172">For naming conventions:</span></span>
> * <span data-ttu-id="8268b-173">[パターンと実践のガイダンス](../best-practices/naming-conventions.md)を確認し、可能であれば採用してください。</span><span class="sxs-lookup"><span data-stu-id="8268b-173">Review and adopt where possible the [Patterns and Practices guidance](../best-practices/naming-conventions.md).</span></span> <span data-ttu-id="8268b-174">このガイダンスは意味のある命名規則を決定するうえで役立ちます。</span><span class="sxs-lookup"><span data-stu-id="8268b-174">This guidance helps you decide on a meaningful naming standard.</span></span>
> * <span data-ttu-id="8268b-175">リソースの名前にキャメルケースを使用します (myResourceGroup や vnetNetworkName など)。</span><span class="sxs-lookup"><span data-stu-id="8268b-175">Use camelCasing for names of resources (such as myResourceGroup and vnetNetworkName).</span></span> <span data-ttu-id="8268b-176">注: 小文字のみを使用し、他の特殊文字は使用できないリソース (ストレージ アカウントなど) もあります。</span><span class="sxs-lookup"><span data-stu-id="8268b-176">Note: There are certain resources, such as storage accounts, where the only option is to use lower case (and no other special characters).</span></span>
> * <span data-ttu-id="8268b-177">Azure Resource Manager ポリシー (次のセクションで説明) を使用して命名規則を適用することを検討します。</span><span class="sxs-lookup"><span data-stu-id="8268b-177">Consider using Azure Resource Manager policies (described in the next section) to enforce naming standards.</span></span>
> 
> <span data-ttu-id="8268b-178">以上のヒントを活用すれば、一貫性のある命名規則を実装できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-178">The preceding tips help you implement a consistent naming convention.</span></span>

## <a name="policies-and-auditing"></a><span data-ttu-id="8268b-179">ポリシーと監査</span><span class="sxs-lookup"><span data-stu-id="8268b-179">Policies and auditing</span></span>
<span data-ttu-id="8268b-180">スキャフォールディングの 2 つ目の柱には、[Azure ポリシー](/azure/azure-policy/azure-policy-introduction)の作成と[アクティビティ ログの監査](/azure/azure-resource-manager/resource-group-audit)が含まれます。</span><span class="sxs-lookup"><span data-stu-id="8268b-180">The second pillar of the scaffold involves creating [Azure policies](/azure/azure-policy/azure-policy-introduction) and [auditing the activity log](/azure/azure-resource-manager/resource-group-audit).</span></span> <span data-ttu-id="8268b-181">Resource Manager ポリシーにより、Azure でのリスクを管理できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-181">Resource Manager policies provide you with the ability to manage risk in Azure.</span></span> <span data-ttu-id="8268b-182">特定のアクションを制限、強制、または監査してデータの主権を確保するポリシーを定義できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-182">You can define policies that ensure data sovereignty by restricting, enforcing, or auditing certain actions.</span></span> 

* <span data-ttu-id="8268b-183">ポリシーは既定の**許可**システムです。</span><span class="sxs-lookup"><span data-stu-id="8268b-183">Policy is a default **allow** system.</span></span> <span data-ttu-id="8268b-184">リソースに対するアクションを拒否または監査するポリシーを定義してリソースに割り当てることで、アクションを制御します。</span><span class="sxs-lookup"><span data-stu-id="8268b-184">You control actions by defining and assigning policies to resources that deny or audit actions on resources.</span></span>
* <span data-ttu-id="8268b-185">ポリシーは、ポリシー定義言語 (if-then 条件) でのポリシー定義で示されます。</span><span class="sxs-lookup"><span data-stu-id="8268b-185">Policies are described by policy definitions in a policy definition language (if-then conditions).</span></span>
* <span data-ttu-id="8268b-186">ポリシーは、JSON (Javascript Object Notation) 形式のファイルを使用して作成します。</span><span class="sxs-lookup"><span data-stu-id="8268b-186">You create polices with JSON (Javascript Object Notation) formatted files.</span></span> <span data-ttu-id="8268b-187">ポリシーを定義したら、特定のスコープ (サブスクリプション、リソース グループ、またはリソース) に割り当てます。</span><span class="sxs-lookup"><span data-stu-id="8268b-187">After defining a policy, you assign it to a particular scope: subscription, resource group, or resource.</span></span>

<span data-ttu-id="8268b-188">ポリシーには、実際のシナリオのきめ細かなアプローチを可能にする複数のアクションが含まれます。</span><span class="sxs-lookup"><span data-stu-id="8268b-188">Policies have multiple actions that allow for a fine-grained approach to your scenarios.</span></span> <span data-ttu-id="8268b-189">アクションは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="8268b-189">The actions are:</span></span>

* <span data-ttu-id="8268b-190">**拒否**: リソース要求をブロックします。</span><span class="sxs-lookup"><span data-stu-id="8268b-190">**Deny**: Blocks the resource request</span></span>
* <span data-ttu-id="8268b-191">**監査**: 要求を許可しますが、アクティビティ ログに行を追加します (アクティビティ ログを使用してアラートを提供したり、Runbook をトリガーしたりできます)。</span><span class="sxs-lookup"><span data-stu-id="8268b-191">**Audit**: Allows the request but adds a line to the activity log (which can be used to provide alerts or to trigger runbooks)</span></span>
* <span data-ttu-id="8268b-192">**追加**: 指定した情報をリソースに追加します。</span><span class="sxs-lookup"><span data-stu-id="8268b-192">**Append**: Adds specified information to the resource.</span></span> <span data-ttu-id="8268b-193">たとえば、リソースに "CostCenter" タグがない場合、このタグを既定値で追加します。</span><span class="sxs-lookup"><span data-stu-id="8268b-193">For example, if there is not a "CostCenter" tag on a resource, add that tag with a default value.</span></span>

### <a name="common-uses-of-resource-manager-policies"></a><span data-ttu-id="8268b-194">Resource Manager ポリシーの一般的な使用法</span><span class="sxs-lookup"><span data-stu-id="8268b-194">Common uses of Resource Manager policies</span></span>
<span data-ttu-id="8268b-195">Azure Resource Manager ポリシーは、Azure Toolkit の強力なツールの 1 つです。</span><span class="sxs-lookup"><span data-stu-id="8268b-195">Azure Resource Manager policies are a powerful tool in the Azure toolkit.</span></span> <span data-ttu-id="8268b-196">Resource Manager ポリシーにより、予想外のコストを回避したり、タグ付けによってリソースのコスト センターを特定したりできます。また、コンプライアンス要件を確実に満たすこともできます。</span><span class="sxs-lookup"><span data-stu-id="8268b-196">They enable you to avoid unexpected costs, to identify a cost center for resources through tagging, and to ensure that compliancy requirements are met.</span></span> <span data-ttu-id="8268b-197">ポリシーを組み込みの監査機能と組み合わせると、複雑で柔軟性のあるソリューションを作成できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-197">When policies are combined with the built-in auditing features, you can fashion complex and flexible solutions.</span></span> <span data-ttu-id="8268b-198">ポリシーを使用することで、企業は "従来型 IT" ワークロードと "アジャイル" ワークロード (顧客アプリケーションの開発など) を管理できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-198">Policies allow companies to provide controls for "Traditional IT" workloads and "Agile" workloads; such as, developing customer applications.</span></span> <span data-ttu-id="8268b-199">ポリシーの最も一般的なパターンは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="8268b-199">The most common patterns we see for policies are:</span></span>

* <span data-ttu-id="8268b-200">**地域コンプライアンス/データの主権** - Azure は世界中のリージョンを提供しています。</span><span class="sxs-lookup"><span data-stu-id="8268b-200">**Geo-compliance/data sovereignty** - Azure provides regions across the world.</span></span> <span data-ttu-id="8268b-201">多くの場合、(目的がデータの主権を確保することか、リソースのエンド ユーザーの近くにリソースを作成することかを問わず) 企業はリソースを作成する場所を制御することを望んでいます。</span><span class="sxs-lookup"><span data-stu-id="8268b-201">Enterprises often wish to control where resources are created (whether to ensure data sovereignty or just to ensure resources are created close to the end consumers of the resources).</span></span>
* <span data-ttu-id="8268b-202">**コスト管理** - Azure サブスクリプションには、さまざまな種類と規模のリソースを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="8268b-202">**Cost management** - An Azure subscription can contain resources of many types and scale.</span></span> <span data-ttu-id="8268b-203">多くの場合、企業は標準サブスクリプションで、月に数百ドル以上のコストがかかる可能性のある大規模なリソースを不必要に使用しないようにすることを望んでいます。</span><span class="sxs-lookup"><span data-stu-id="8268b-203">Corporations often wish to ensure that standard subscriptions avoid using unnecessarily large resources, which can cost hundreds of dollars a month or more.</span></span>
* <span data-ttu-id="8268b-204">**必須のタグによる既定のガバナンス** - タグの要求は、最も一般的で非常に望ましい機能の 1 つです。</span><span class="sxs-lookup"><span data-stu-id="8268b-204">**Default governance through required tags** - Requiring tags is one of the most common and highly desired features.</span></span> <span data-ttu-id="8268b-205">Azure Resource Manager ポリシーを使用すると、リソースに適切にタグ付けすることができます。</span><span class="sxs-lookup"><span data-stu-id="8268b-205">Using Azure Resource Manager Policies enterprises are able to ensure that a resource is appropriately tagged.</span></span> <span data-ttu-id="8268b-206">最も一般的なタグは、Department、Resource Owner、Environment (運用、テスト、開発など) です。</span><span class="sxs-lookup"><span data-stu-id="8268b-206">The most common tags are: Department, Resource Owner, and Environment type (for example - production, test, development)</span></span>

<span data-ttu-id="8268b-207">**例**</span><span class="sxs-lookup"><span data-stu-id="8268b-207">**Examples**</span></span>

<span data-ttu-id="8268b-208">基幹業務アプリケーションの "従来型 IT" サブスクリプション</span><span class="sxs-lookup"><span data-stu-id="8268b-208">"Traditional IT" subscription for line-of-business applications</span></span>

* <span data-ttu-id="8268b-209">すべてのリソースに Department タグと Owner タグを適用する</span><span class="sxs-lookup"><span data-stu-id="8268b-209">Enforce Department and Owner tags on all resources</span></span>
* <span data-ttu-id="8268b-210">リソースの作成を北米リージョンに制限する</span><span class="sxs-lookup"><span data-stu-id="8268b-210">Restrict resource creation to the North American Region</span></span>
* <span data-ttu-id="8268b-211">G シリーズ VM と HDInsight クラスターを作成する機能を制限する</span><span class="sxs-lookup"><span data-stu-id="8268b-211">Restrict the ability to create G-Series VMs and HDInsight Clusters</span></span>

<span data-ttu-id="8268b-212">クラウド アプリケーションを作成する部署の "アジャイル" 環境</span><span class="sxs-lookup"><span data-stu-id="8268b-212">"Agile" Environment for a business unit creating cloud applications</span></span>

* <span data-ttu-id="8268b-213">データの主権要件を満たすために、特定のリージョンでのみリソースの作成を許可する。</span><span class="sxs-lookup"><span data-stu-id="8268b-213">To meet data sovereignty requirements, allow the creation of resources ONLY in a specific region.</span></span>
* <span data-ttu-id="8268b-214">すべてのリソースに Environment タグを適用する。</span><span class="sxs-lookup"><span data-stu-id="8268b-214">Enforce Environment tag on all resources.</span></span> <span data-ttu-id="8268b-215">リソースがタグなしで作成された場合は、**Environment: Unknown** タグをリソースに追加する。</span><span class="sxs-lookup"><span data-stu-id="8268b-215">If a resource is created without a tag, append the **Environment: Unknown** tag to the resource.</span></span>
* <span data-ttu-id="8268b-216">リソースが北米以外で作成されたときに監査する (ただし、リソースの作成を妨げない)。</span><span class="sxs-lookup"><span data-stu-id="8268b-216">Audit when resources are created outside of North America but do not prevent.</span></span>
* <span data-ttu-id="8268b-217">高コストのリソースが作成されたときに監査する。</span><span class="sxs-lookup"><span data-stu-id="8268b-217">Audit when high-cost resources are created.</span></span>

> [!TIP]
> <span data-ttu-id="8268b-218">組織での Resource Manager ポリシーの最も一般的な使用法は、リソースを作成できる*場所*と作成できるリソースの*種類*の制御です。</span><span class="sxs-lookup"><span data-stu-id="8268b-218">The most common use of Resource Manager policies across organizations is to control *where* resources can be created and *what* types of resources can be created.</span></span> <span data-ttu-id="8268b-219">多くの企業では、*場所*と*種類*を制御するだけでなく、従量課金のために、ポリシーを使用してリソースに適切なメタデータが含まれるようにしています。</span><span class="sxs-lookup"><span data-stu-id="8268b-219">In addition to providing controls on *where* and *what*, many enterprises use policies to ensure resources have the appropriate metadata to bill back for consumption.</span></span> <span data-ttu-id="8268b-220">以下に関するポリシーは、サブスクリプション レベルで適用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="8268b-220">We recommend applying policies at the subscription level for:</span></span>
> 
> * <span data-ttu-id="8268b-221">地域コンプライアンス/データの主権</span><span class="sxs-lookup"><span data-stu-id="8268b-221">Geo-compliance/data sovereignty</span></span>
> * <span data-ttu-id="8268b-222">コスト管理</span><span class="sxs-lookup"><span data-stu-id="8268b-222">Cost management</span></span>
> * <span data-ttu-id="8268b-223">必須タグ (BillTo、Application Owner など、ビジネス ニーズに基づいて決定)</span><span class="sxs-lookup"><span data-stu-id="8268b-223">Required tags (Determined by business need, such as BillTo, Application Owner)</span></span>
> 
> <span data-ttu-id="8268b-224">下位レベルのスコープで追加のポリシーを適用できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-224">You can apply additional policies at lower levels of scope.</span></span>
> 
> 

### <a name="audit---what-happened"></a><span data-ttu-id="8268b-225">監査 - 状況の把握</span><span class="sxs-lookup"><span data-stu-id="8268b-225">Audit - what happened?</span></span>
<span data-ttu-id="8268b-226">環境がどのように機能しているかを確認するには、ユーザー アクティビティを監査する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-226">To view how your environment is functioning, you need to audit user activity.</span></span> <span data-ttu-id="8268b-227">Azure 内のほとんどの種類のリソースで診断ログが作成されます。診断ログは、ログ ツールまたは Azure Log Analytics で分析できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-227">Most resource types within Azure create diagnostic logs that you can analyze through a log tool or in Azure Log Analytics.</span></span> <span data-ttu-id="8268b-228">複数のサブスクリプションのアクティビティ ログを収集して、部門別ビューやエンタープライズ ビューを提供できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-228">You can gather activity logs across multiple subscriptions to provide a departmental or enterprise view.</span></span> <span data-ttu-id="8268b-229">監査レコードは重要な診断ツールであると同時に、Azure 環境内でイベントをトリガーする重要なメカニズムでもあります。</span><span class="sxs-lookup"><span data-stu-id="8268b-229">Audit records are both an important diagnostic tool and a crucial mechanism to trigger events in the Azure environment.</span></span>

<span data-ttu-id="8268b-230">Resource Manager デプロイメントのアクティビティ ログにより、実行された**操作**とそれらの操作を実行したユーザーを確認できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-230">Activity logs from Resource Manager deployments enable you to determine the **operations** that took place and who performed them.</span></span> <span data-ttu-id="8268b-231">アクティビティ ログは、Log Analytics などのツールを使用して収集および集計できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-231">Activity logs can be collected and aggregated using tools like Log Analytics.</span></span>

## <a name="resource-tags"></a><span data-ttu-id="8268b-232">リソース タグ</span><span class="sxs-lookup"><span data-stu-id="8268b-232">Resource tags</span></span>
<span data-ttu-id="8268b-233">組織のユーザーはサブスクリプションにリソースを追加するので、適切な部門、顧客、環境にリソースを関連付けることがますます重要になります。</span><span class="sxs-lookup"><span data-stu-id="8268b-233">As users in your organization add resources to the subscription, it becomes increasingly important to associate resources with the appropriate department, customer, and environment.</span></span> <span data-ttu-id="8268b-234">[タグ](/azure/azure-resource-manager/resource-group-using-tags)を使用することで、リソースにメタデータを添付できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-234">You can attach metadata to resources through [tags](/azure/azure-resource-manager/resource-group-using-tags).</span></span> <span data-ttu-id="8268b-235">タグを使用して、リソースや所有者に関する情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="8268b-235">You use tags to provide information about the resource or the owner.</span></span> <span data-ttu-id="8268b-236">タグを使用すると、さまざまな方法でリソースを集計し、グループ化できるだけでなく、配賦のためにそのデータを使用できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-236">Tags enable you to not only aggregate and group resources in various ways, but use that data for the purposes of chargeback.</span></span> <span data-ttu-id="8268b-237">リソースには、最大 15 組のキーと値のペアでタグ付けできます。</span><span class="sxs-lookup"><span data-stu-id="8268b-237">You can tag resources with up to 15 key:value pairs.</span></span> 

<span data-ttu-id="8268b-238">リソース タグには柔軟性があるので、ほとんどのリソースに付ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-238">Resource tags are flexible and should be attached to most resources.</span></span> <span data-ttu-id="8268b-239">一般的なリソース タグの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="8268b-239">Examples of common resource tags are:</span></span>

* <span data-ttu-id="8268b-240">BillTo</span><span class="sxs-lookup"><span data-stu-id="8268b-240">BillTo</span></span>
* <span data-ttu-id="8268b-241">Department (または Business Unit)</span><span class="sxs-lookup"><span data-stu-id="8268b-241">Department (or Business Unit)</span></span>
* <span data-ttu-id="8268b-242">Environment (Production、Stage、Development)</span><span class="sxs-lookup"><span data-stu-id="8268b-242">Environment (Production, Stage, Development)</span></span>
* <span data-ttu-id="8268b-243">Tier (Web Tier、Application Tier)</span><span class="sxs-lookup"><span data-stu-id="8268b-243">Tier (Web Tier, Application Tier)</span></span>
* <span data-ttu-id="8268b-244">Application Owner</span><span class="sxs-lookup"><span data-stu-id="8268b-244">Application Owner</span></span>
* <span data-ttu-id="8268b-245">ProjectName</span><span class="sxs-lookup"><span data-stu-id="8268b-245">ProjectName</span></span>

![tags](./_images/resource-group-tagging.png)

<span data-ttu-id="8268b-247">タグのその他の例については、「[Recommended naming conventions for Azure resources (Azure リソースの推奨される名前付け規則)](../best-practices/naming-conventions.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="8268b-247">For more examples of tags, see [Recommended naming conventions for Azure resources](../best-practices/naming-conventions.md).</span></span>

> [!TIP]
> <span data-ttu-id="8268b-248">以下についてタグ付けすることを必須にするポリシーの作成を検討してください。</span><span class="sxs-lookup"><span data-stu-id="8268b-248">Consider making a policy that mandates tagging for:</span></span>
> 
> * <span data-ttu-id="8268b-249">リソース グループ</span><span class="sxs-lookup"><span data-stu-id="8268b-249">Resource groups</span></span>
> * <span data-ttu-id="8268b-250">Storage</span><span class="sxs-lookup"><span data-stu-id="8268b-250">Storage</span></span>
> * <span data-ttu-id="8268b-251">Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="8268b-251">Virtual Machines</span></span>
> * <span data-ttu-id="8268b-252">アプリケーション サービス環境/Web サーバー</span><span class="sxs-lookup"><span data-stu-id="8268b-252">Application Service Environments/web servers</span></span>
> 
> <span data-ttu-id="8268b-253">このタグ付け戦略によって、ビジネス、財務、セキュリティ、リスク管理、環境の全体的な管理に必要なメタデータをサブスクリプションで特定できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-253">This tagging strategy identifies across your subscriptions what metadata is needed for the business, finance, security, risk management, and overall management of the environment.</span></span> 

## <a name="resource-group"></a><span data-ttu-id="8268b-254">リソース グループ</span><span class="sxs-lookup"><span data-stu-id="8268b-254">Resource group</span></span>
<span data-ttu-id="8268b-255">Resource Manager では、管理、課金、または自然なアフィニティのために、リソースを意味のあるグループに配置できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-255">Resource Manager enables you to put resources into meaningful groups for management, billing, or natural affinity.</span></span> <span data-ttu-id="8268b-256">前述のように、Azure には 2 つのデプロイメント モデルがあります。</span><span class="sxs-lookup"><span data-stu-id="8268b-256">As mentioned earlier, Azure has two deployment models.</span></span> <span data-ttu-id="8268b-257">初期のクラシック モデルでは、管理の基本単位はサブスクリプションでした。</span><span class="sxs-lookup"><span data-stu-id="8268b-257">In the earlier Classic model, the basic unit of management was the subscription.</span></span> <span data-ttu-id="8268b-258">サブスクリプション内でリソースを分類するのが難しかったことから、多数のサブスクリプションが作成されていました。</span><span class="sxs-lookup"><span data-stu-id="8268b-258">It was difficult to break down resources within a subscription, which led to the creation of large numbers of subscriptions.</span></span> <span data-ttu-id="8268b-259">Resource Manager モデルでリソース グループが導入されました。</span><span class="sxs-lookup"><span data-stu-id="8268b-259">With the Resource Manager model, we saw the introduction of resource groups.</span></span> <span data-ttu-id="8268b-260">リソース グループは、共通のライフサイクルを持つリソースまたは "all SQL servers" や "Application A" などの属性を共有するリソースのコンテナーです。</span><span class="sxs-lookup"><span data-stu-id="8268b-260">Resource groups are containers of resources that have a common lifecycle or share an attribute such as "all SQL servers" or "Application A".</span></span>

<span data-ttu-id="8268b-261">リソース グループに別のリソース グループを含めることはできません。また、リソースは 1 つのリソース グループにのみ属することができます。</span><span class="sxs-lookup"><span data-stu-id="8268b-261">Resource groups cannot be contained within each other and resources can only belong to one resource group.</span></span> <span data-ttu-id="8268b-262">リソース グループのすべてのリソースに対して特定のアクションを適用できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-262">You can apply certain actions on all resources in a resource group.</span></span> <span data-ttu-id="8268b-263">たとえば、リソース グループを削除すると、そのリソース グループ内のすべてのリソースが削除されます。</span><span class="sxs-lookup"><span data-stu-id="8268b-263">For example, deleting a resource group removes all resources within the resource group.</span></span> <span data-ttu-id="8268b-264">通常は、アプリケーション全体または関連するシステムを同じリソース グループに配置します。</span><span class="sxs-lookup"><span data-stu-id="8268b-264">Typically, you place an entire application or related system in the same resource group.</span></span> <span data-ttu-id="8268b-265">たとえば、Contoso Web アプリケーションという 3 層アプリケーションでは、Web サーバー、アプリケーション サーバー、SQL Server が同じリソース グループに含まれます。</span><span class="sxs-lookup"><span data-stu-id="8268b-265">For example, a three-tier application called Contoso Web Application would contain the web server, application server and SQL server in the same resource group.</span></span>

> [!TIP]
> <span data-ttu-id="8268b-266">リソース グループを整理する方法は、"従来型 IT" ワークロードと "アジャイル IT" ワークロードで異なる場合があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-266">How you organize your resource groups may vary from "Traditional IT" workloads to "Agile IT" workloads:</span></span>
> 
> * <span data-ttu-id="8268b-267">"従来型 IT" ワークロードは、同じライフサイクル内の項目 (アプリケーションなど) でグループ化するのが最も一般的です。</span><span class="sxs-lookup"><span data-stu-id="8268b-267">"Traditional IT" workloads are most commonly grouped by items within the same lifecycle, such as an application.</span></span> <span data-ttu-id="8268b-268">アプリケーションでグループ化すると、個々のアプリケーションの管理が可能になります。</span><span class="sxs-lookup"><span data-stu-id="8268b-268">Grouping by application allows for individual application management.</span></span>
> * <span data-ttu-id="8268b-269">"アジャイル IT" ワークロードは、外部顧客向けのクラウド アプリケーションに集中する傾向があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-269">"Agile IT" workloads tend to focus on external customer-facing cloud applications.</span></span> <span data-ttu-id="8268b-270">リソース グループは、デプロイメントのレイヤー (Web 層、アプリケーション層など) と管理のレイヤーを反映する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-270">The resource groups should reflect the layers of deployment (such as Web Tier, App Tier) and management.</span></span>
> 
> <span data-ttu-id="8268b-271">ワークロードを理解すると、リソース グループ戦略の開発に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="8268b-271">Understanding your workload helps you develop a resource group strategy.</span></span>

## <a name="role-based-access-control"></a><span data-ttu-id="8268b-272">ロールベースのアクセス制御</span><span class="sxs-lookup"><span data-stu-id="8268b-272">Role-based access control</span></span>
<span data-ttu-id="8268b-273">「リソースにアクセスできる必要があるのはだれか」、</span><span class="sxs-lookup"><span data-stu-id="8268b-273">You probably are asking yourself "who should have access to resources?"</span></span> <span data-ttu-id="8268b-274">「このアクセスを制御するにはどうすればよいか」と自問しているかもしれません。</span><span class="sxs-lookup"><span data-stu-id="8268b-274">and "how do I control this access?"</span></span> <span data-ttu-id="8268b-275">Azure Portal へのアクセスの許可または拒否と、ポータルでのリソースへのアクセスの制御は非常に重要です。</span><span class="sxs-lookup"><span data-stu-id="8268b-275">Allowing or disallowing access to the Azure portal, and controlling access to resources in the portal is crucial.</span></span> 

<span data-ttu-id="8268b-276">Azure が最初にリリースされたときには、サブスクリプションに対するアクセス制御が基本でした (管理者または共同管理者)。</span><span class="sxs-lookup"><span data-stu-id="8268b-276">When Azure was initially released, access controls to a subscription were basic: Administrator or Co-Administrator.</span></span> <span data-ttu-id="8268b-277">クラシック モデルでのサブスクリプションへのアクセスは、ポータルでのすべてのリソースへのアクセスを意味していました。</span><span class="sxs-lookup"><span data-stu-id="8268b-277">Access to a subscription in the Classic model implied access to all the resources in the portal.</span></span> <span data-ttu-id="8268b-278">きめ細かく制御することができなかったため、Azure 加入契約に一定レベルの妥当なアクセス制御を提供するためにサブスクリプションが急増しました。</span><span class="sxs-lookup"><span data-stu-id="8268b-278">This lack of fine-grained control led to the proliferation of subscriptions to provide a level of reasonable access control for an Azure Enrollment.</span></span>

<span data-ttu-id="8268b-279">このようにサブスクリプションを急増させる必要はなくなりました。</span><span class="sxs-lookup"><span data-stu-id="8268b-279">This proliferation of subscriptions is no longer needed.</span></span> <span data-ttu-id="8268b-280">ロールベースのアクセス制御により、ユーザーを標準ロール (一般的な "リーダー" および "ライター" タイプのロールなど) を割り当てることができます。</span><span class="sxs-lookup"><span data-stu-id="8268b-280">With role-based access control, you can assign users to standard roles (such as common "reader" and "writer" types of roles).</span></span> <span data-ttu-id="8268b-281">また、カスタム ロールを定義することもできます。</span><span class="sxs-lookup"><span data-stu-id="8268b-281">You can also define custom roles.</span></span>

> [!TIP]
> <span data-ttu-id="8268b-282">ロールベースのアクセス制御を実装する方法</span><span class="sxs-lookup"><span data-stu-id="8268b-282">To implement role-based access control:</span></span>
> * <span data-ttu-id="8268b-283">AD Connect ツールを使用して企業 ID ストア (Active Directory が最も一般的) を Azure Active Directory に接続します。</span><span class="sxs-lookup"><span data-stu-id="8268b-283">Connect your corporate identity store (most commonly Active Directory) to Azure Active Directory using the AD Connect tool.</span></span>
> * <span data-ttu-id="8268b-284">管理された ID を使用して、サブスクリプションの管理者/共同管理者を管理します。</span><span class="sxs-lookup"><span data-stu-id="8268b-284">Control the Admin/Co-Admin of a subscription using a managed identity.</span></span> <span data-ttu-id="8268b-285">管理者/共同管理者を新しいサブスクリプション所有者に**割り当てないでください**。</span><span class="sxs-lookup"><span data-stu-id="8268b-285">**Don't** assign Admin/Co-admin to a new subscription owner.</span></span> <span data-ttu-id="8268b-286">代わりに、RBAC ロールを使用して、グループまたは個々のユーザーに**所有者**権限を付与します。</span><span class="sxs-lookup"><span data-stu-id="8268b-286">Instead, use RBAC roles to provide **Owner** rights to a group or individual.</span></span>
> * <span data-ttu-id="8268b-287">Azure ユーザーを Active Directory のグループ (アプリケーション X の所有者など) に追加します。</span><span class="sxs-lookup"><span data-stu-id="8268b-287">Add Azure users to a group (for example, Application X Owners) in Active Directory.</span></span> <span data-ttu-id="8268b-288">同期されたグループを使用して、アプリケーションが属するリソース グループを管理するための適切な権限をグループのメンバーに付与します。</span><span class="sxs-lookup"><span data-stu-id="8268b-288">Use the synced group to provide group members the appropriate rights to manage the resource group containing the application.</span></span>
> * <span data-ttu-id="8268b-289">求められている作業を行うために必要な**最小限の特権**の付与の原則に従います。</span><span class="sxs-lookup"><span data-stu-id="8268b-289">Follow the principle of granting the **least privilege** required to do the expected work.</span></span> <span data-ttu-id="8268b-290">例: </span><span class="sxs-lookup"><span data-stu-id="8268b-290">For example:</span></span>
>   * <span data-ttu-id="8268b-291">デプロイメント グループ: リソースのデプロイだけを実行できるグループ。</span><span class="sxs-lookup"><span data-stu-id="8268b-291">Deployment Group: A group that is only able to deploy resources.</span></span>
>   * <span data-ttu-id="8268b-292">仮想マシン管理: (運用のために) VM を再起動できるグループ。</span><span class="sxs-lookup"><span data-stu-id="8268b-292">Virtual Machine Management: A group that is able to restart VMs (for operations)</span></span>
> 
> <span data-ttu-id="8268b-293">これらのヒントを活用すると、サブスクリプション間のユーザー アクセスを管理できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-293">These tips help you manage user access across your subscription.</span></span>

## <a name="azure-resource-locks"></a><span data-ttu-id="8268b-294">Azure のリソース ロック</span><span class="sxs-lookup"><span data-stu-id="8268b-294">Azure resource locks</span></span>
<span data-ttu-id="8268b-295">組織ではサブスクリプションにコア サービスを追加するので、ビジネスが中断されないように、それらのサービスの可用性を確保することがますます重要になります。</span><span class="sxs-lookup"><span data-stu-id="8268b-295">As your organization adds core services to the subscription, it becomes increasingly important to ensure that those services are available to avoid business disruption.</span></span> <span data-ttu-id="8268b-296">[リソース ロック](/azure/azure-resource-manager/resource-group-lock-resources)を使用すると、変更または削除したときにアプリケーションやクラウド インフラストラクチャに大きな影響を及ぼす価値の高いリソースに対する操作を制限できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-296">[Resource locks](/azure/azure-resource-manager/resource-group-lock-resources) enable you to restrict operations on high-value resources where modifying or deleting them would have a significant impact on your applications or cloud infrastructure.</span></span> <span data-ttu-id="8268b-297">ロックは、サブスクリプション、リソース グループ、またはリソースに適用できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-297">You can apply locks to a subscription, resource group, or resource.</span></span> <span data-ttu-id="8268b-298">通常は、仮想ネットワーク、ゲートウェイ、ストレージ アカウントなどの基本的なリソースにロックを適用します。</span><span class="sxs-lookup"><span data-stu-id="8268b-298">Typically, you apply locks to foundational resources such as virtual networks, gateways, and storage accounts.</span></span> 

<span data-ttu-id="8268b-299">リソース ロックでは、CanNotDelete と ReadOnly の 2 つの値を現在サポートしています。</span><span class="sxs-lookup"><span data-stu-id="8268b-299">Resource locks currently support two values: CanNotDelete and ReadOnly.</span></span> <span data-ttu-id="8268b-300">CanNotDelete では、(適切な権限を持つ) ユーザーはリソースの読み取りまたは変更を引き続き行うことができますが、リソースを削除することはできません。</span><span class="sxs-lookup"><span data-stu-id="8268b-300">CanNotDelete means that users (with the appropriate rights) can still read or modify a resource but cannot delete it.</span></span> <span data-ttu-id="8268b-301">ReadOnly では、許可されたユーザーがリソースを削除することも変更することもできません。</span><span class="sxs-lookup"><span data-stu-id="8268b-301">ReadOnly means that authorized users can't delete or modify a resource.</span></span>

<span data-ttu-id="8268b-302">管理ロックを作成または削除するには、`Microsoft.Authorization/*` または `Microsoft.Authorization/locks/*` アクションにアクセスできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-302">To create or delete management locks, you must have access to `Microsoft.Authorization/*` or `Microsoft.Authorization/locks/*` actions.</span></span>
<span data-ttu-id="8268b-303">組み込みロールのうち、所有者とユーザー アクセス管理者にのみこれらのアクションが許可されています。</span><span class="sxs-lookup"><span data-stu-id="8268b-303">Of the built-in roles, only Owner and User Access Administrator are granted those actions.</span></span>

> [!TIP]
> <span data-ttu-id="8268b-304">コア ネットワーク オプションは、ロックで保護する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-304">Core network options should be protected with locks.</span></span> <span data-ttu-id="8268b-305">ゲートウェイのサイト間 VPN が誤って削除されると、Azure サブスクリプションに大きな被害を及ぼします。</span><span class="sxs-lookup"><span data-stu-id="8268b-305">Accidental deletion of a gateway, site-to-site VPN would be disastrous to an Azure subscription.</span></span> <span data-ttu-id="8268b-306">Azure では、使用中の仮想ネットワークを削除することはできませんが、さらに厳しい制限を適用すれば有益な予防措置になります。</span><span class="sxs-lookup"><span data-stu-id="8268b-306">Azure doesn't allow you to delete a virtual network that is in use, but applying more restrictions is a helpful precaution.</span></span> 
> 
> * <span data-ttu-id="8268b-307">仮想ネットワーク: CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="8268b-307">Virtual Network: CanNotDelete</span></span>
> * <span data-ttu-id="8268b-308">ネットワーク セキュリティ グループ: CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="8268b-308">Network Security Group: CanNotDelete</span></span>
> * <span data-ttu-id="8268b-309">ポリシー: CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="8268b-309">Policies: CanNotDelete</span></span>
> 
> <span data-ttu-id="8268b-310">また、適切な制御を維持するには、ポリシーが不可欠となります。</span><span class="sxs-lookup"><span data-stu-id="8268b-310">Policies are also crucial to the maintenance of appropriate controls.</span></span> <span data-ttu-id="8268b-311">使用中のポリシーに、**CanNotDelete** ロックを適用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="8268b-311">We recommend that you apply a **CanNotDelete** lock to polices that are in use.</span></span>

## <a name="core-networking-resources"></a><span data-ttu-id="8268b-312">コア ネットワーク リソース</span><span class="sxs-lookup"><span data-stu-id="8268b-312">Core networking resources</span></span>
<span data-ttu-id="8268b-313">リソースへのアクセスは内部 (企業のネットワーク内) の場合もあれば、外部 (インターネット経由) の場合もあります。</span><span class="sxs-lookup"><span data-stu-id="8268b-313">Access to resources can be either internal (within the corporation's network) or external (through the internet).</span></span> <span data-ttu-id="8268b-314">組織のユーザーは誤って不適切な場所にリソースを配置しがちであり、リソースが悪意のあるアクセスにさらされる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-314">It is easy for users in your organization to inadvertently put resources in the wrong spot, and potentially open them to malicious access.</span></span> <span data-ttu-id="8268b-315">オンプレミスのデバイスと同様に、企業は Azure ユーザーが正しく判断できるように適切な制御を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-315">As with on-premises devices, enterprises must add appropriate controls to ensure that Azure users make the right decisions.</span></span> <span data-ttu-id="8268b-316">Microsoft では、サブスクリプション ガバナンスのために、基本的なアクセス制御を提供するコア リソースを特定しました。</span><span class="sxs-lookup"><span data-stu-id="8268b-316">For subscription governance, we identify core resources that provide basic control of access.</span></span> <span data-ttu-id="8268b-317">コア リソースは以下で構成されます。</span><span class="sxs-lookup"><span data-stu-id="8268b-317">The core resources consist of:</span></span>

* <span data-ttu-id="8268b-318">**仮想ネットワーク**は、サブネットのコンテナー オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="8268b-318">**Virtual networks** are container objects for subnets.</span></span> <span data-ttu-id="8268b-319">必須ではありませんが、多くの場合、アプリケーションを内部の企業リソースに接続するときに使用されます。</span><span class="sxs-lookup"><span data-stu-id="8268b-319">Though not strictly necessary, it is often used when connecting applications to internal corporate resources.</span></span>
* <span data-ttu-id="8268b-320">**ネットワーク セキュリティ グループ**はファイアウォールに似ており、リソースがネットワーク上で通信する方法に関するルールを提供します。</span><span class="sxs-lookup"><span data-stu-id="8268b-320">**Network security groups** are similar to a firewall and provide rules for how a resource can "talk" over the network.</span></span> <span data-ttu-id="8268b-321">ネットワーク セキュリティ グループでは、サブネット (または仮想マシン) がインターネットや同じ仮想ネットワーク内の他のサブネットに接続する方法と条件を細かく制御できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-321">They provide granular control over how/if a subnet (or virtual machine) can connect to the Internet or other subnets in the same virtual network.</span></span>

![コア ネットワーク](./_images/core-network.png)

> [!TIP]
> <span data-ttu-id="8268b-323">ネットワークのヒント</span><span class="sxs-lookup"><span data-stu-id="8268b-323">For networking:</span></span>
> * <span data-ttu-id="8268b-324">外部接続ワークロードと内部接続ワークロード専用の仮想ネットワークを作成します。</span><span class="sxs-lookup"><span data-stu-id="8268b-324">Create virtual networks dedicated to external-facing workloads and internal-facing workloads.</span></span> <span data-ttu-id="8268b-325">この方法により、外部に接続する領域に内部ワークロード向けの仮想マシンを誤って配置する可能性が低減されます。</span><span class="sxs-lookup"><span data-stu-id="8268b-325">This approach reduces the chance of inadvertently placing virtual machines that are intended for internal workloads in an external facing space.</span></span>
> * <span data-ttu-id="8268b-326">アクセスを制限するネットワーク セキュリティ グループを構成します。</span><span class="sxs-lookup"><span data-stu-id="8268b-326">Configure network security groups to limit access.</span></span> <span data-ttu-id="8268b-327">少なくとも、内部仮想ネットワークからインターネットへのアクセスをブロックし、外部仮想ネットワークから企業ネットワークへのアクセスをブロックします。</span><span class="sxs-lookup"><span data-stu-id="8268b-327">At a minimum, block access to the internet from internal virtual networks, and block access to the corporate network from external virtual networks.</span></span>
> 
> <span data-ttu-id="8268b-328">これらのヒントを使用すると、安全なネットワーク リソースを実装できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-328">These tips help you implement secure networking resources.</span></span>

### <a name="automation"></a><span data-ttu-id="8268b-329">Automation</span><span class="sxs-lookup"><span data-stu-id="8268b-329">Automation</span></span>
<span data-ttu-id="8268b-330">リソースを個別に管理すると、時間がかかるだけでなく、特定の操作でエラーが発生しやすくなる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-330">Managing resources individually is both time-consuming and potentially error prone for certain operations.</span></span> <span data-ttu-id="8268b-331">Azure には、Azure Automation、Logic Apps、Azure Functions などの各種自動化機能が用意されています。</span><span class="sxs-lookup"><span data-stu-id="8268b-331">Azure provides various automation capabilities including Azure Automation, Logic Apps, and Azure Functions.</span></span> <span data-ttu-id="8268b-332">[Azure Automation](/azure/automation/automation-intro) では、管理者はリソース管理の一般的なタスクを処理する Runbook を作成し、定義できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-332">[Azure Automation](/azure/automation/automation-intro) enables administrators to create and define runbooks to handle common tasks in managing resources.</span></span> <span data-ttu-id="8268b-333">Runbook は、PowerShell コード エディターまたはグラフィカル エディターを使用して作成します。</span><span class="sxs-lookup"><span data-stu-id="8268b-333">You create runbooks by using either a PowerShell code editor or a graphical editor.</span></span> <span data-ttu-id="8268b-334">複雑な多段階のワークフローを作成できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-334">You can produce complex multi-stage workflows.</span></span> <span data-ttu-id="8268b-335">Azure Automation は、未使用のリソースのシャットダウンや、人の介入を必要とせずに特定のトリガーに応答して実行されるリソースの作成など、一般的なタスクの処理によく使用されます。</span><span class="sxs-lookup"><span data-stu-id="8268b-335">Azure Automation is often used to handle common tasks such as shutting down unused resources, or creating resources in response to a specific trigger without needing human intervention.</span></span>

> [!TIP]
> <span data-ttu-id="8268b-336">Automation のヒント</span><span class="sxs-lookup"><span data-stu-id="8268b-336">For automation:</span></span>
> * <span data-ttu-id="8268b-337">Azure Automation アカウントを作成し、[Runbook ギャラリー](/azure/automation/automation-runbook-gallery)で提供される使用可能な Runbook (グラフィカルとコマンド ライン) を確認します。</span><span class="sxs-lookup"><span data-stu-id="8268b-337">Create an Azure Automation account and review the available runbooks (both graphical and command line) available in the [Runbook Gallery](/azure/automation/automation-runbook-gallery).</span></span>
> * <span data-ttu-id="8268b-338">重要な Runbook をインポートし、独自の用途に合わせてカスタマイズします。</span><span class="sxs-lookup"><span data-stu-id="8268b-338">Import and customize key runbooks for your own use.</span></span>
> 
> <span data-ttu-id="8268b-339">一般的なシナリオとして、仮想マシンをスケジュールどおりに起動およびシャットダウンできます。</span><span class="sxs-lookup"><span data-stu-id="8268b-339">A common scenario is the ability to Start/Shutdown virtual machines on a schedule.</span></span> <span data-ttu-id="8268b-340">このシナリオに対応し、シナリオを拡張する方法を示す Runbook の例をギャラリーで入手できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-340">There are example runbooks that are available in the Gallery that both handle this scenario and teach you how to expand it.</span></span>
> 
> 

## <a name="azure-security-center"></a><span data-ttu-id="8268b-341">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="8268b-341">Azure Security Center</span></span>
<span data-ttu-id="8268b-342">クラウド導入の最大の障壁の 1 つが、セキュリティに対する懸念でした。</span><span class="sxs-lookup"><span data-stu-id="8268b-342">Perhaps one of the biggest blockers to cloud adoption has been the concerns over security.</span></span> <span data-ttu-id="8268b-343">IT リスク マネージャーとセキュリティ部門は、Azure 内のリソースのセキュリティを確保する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-343">IT risk managers and security departments need to ensure that resources in Azure are secure.</span></span> 

<span data-ttu-id="8268b-344">[Azure Security Center](/azure/security-center/security-center-intro) では、サブスクリプション内のリソースのセキュリティの状態を一元的に表示することができ、リソースの侵害を防ぐうえで役立つ推奨事項が提供されます。</span><span class="sxs-lookup"><span data-stu-id="8268b-344">The [Azure Security Center](/azure/security-center/security-center-intro) provides a central view of the security status of resources in the subscriptions, and provides recommendations that help prevent compromised resources.</span></span> <span data-ttu-id="8268b-345">また、より詳細なポリシーを設定することもできます (たとえば、特定のリソース グループにポリシーを適用して、企業が対処しようとしているリスクへの対策を調整できます)。</span><span class="sxs-lookup"><span data-stu-id="8268b-345">It can enable more granular policies (for example, applying policies to specific resource groups that allow the enterprise to tailor their posture to the risk they are addressing).</span></span> <span data-ttu-id="8268b-346">Azure Security Center はオープン プラットフォームです。Microsoft のパートナーと独立系ソフトウェア ベンダーは、Azure Security Center に接続して機能を強化するソフトウェアを作成できます。</span><span class="sxs-lookup"><span data-stu-id="8268b-346">Finally, Azure Security Center is an open platform that enables Microsoft partners and independent software vendors to create software that plugs into Azure Security Center to enhance its capabilities.</span></span> 

> [!TIP]
> <span data-ttu-id="8268b-347">各サブスクリプションで、Azure Security Center は既定で有効になっています。</span><span class="sxs-lookup"><span data-stu-id="8268b-347">Azure Security Center is enabled by default in each subscription.</span></span> <span data-ttu-id="8268b-348">ただし、Azure Security Center がエージェントをインストールし、データの収集を開始できるようにするには、仮想マシンからデータ収集を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="8268b-348">However, you must enable data collection from virtual machines to allow Azure Security Center to install its agent and begin gathering data.</span></span>
> 
> ![データ取集](./_images/data-collection.png)
> 
> 

## <a name="next-steps"></a><span data-ttu-id="8268b-350">次の手順</span><span class="sxs-lookup"><span data-stu-id="8268b-350">Next steps</span></span>
* <span data-ttu-id="8268b-351">ここでは、サブスクリプション ガバナンスについて説明しました。次に、これらの推奨事項を実際に確認してください。</span><span class="sxs-lookup"><span data-stu-id="8268b-351">Now that you have learned about subscription governance, it's time to see these recommendations in practice.</span></span> <span data-ttu-id="8268b-352">[Azure サブスクリプション ガバナンスの実装例](subscription-governance-examples.md)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="8268b-352">See [Examples of implementing Azure subscription governance](subscription-governance-examples.md).</span></span>
