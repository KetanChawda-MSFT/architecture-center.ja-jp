---
title: "可用性のチェックリスト"
description: "設計時の可用性に関する問題のガイダンスを提供するチェックリスト。"
author: dragon119
ms.date: 03/24/2017
ms.custom: checklist
ms.openlocfilehash: 14e6cd6f25f613ea9793b5cf6c4f1abe6f405b74
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/14/2017
---
# <a name="availability-checklist"></a><span data-ttu-id="b6f5b-103">可用性のチェックリスト</span><span class="sxs-lookup"><span data-stu-id="b6f5b-103">Availability checklist</span></span>
[!INCLUDE [header](../_includes/header.md)]

## <a name="application-design"></a><span data-ttu-id="b6f5b-104">アプリケーションの設計</span><span class="sxs-lookup"><span data-stu-id="b6f5b-104">Application design</span></span>
* <span data-ttu-id="b6f5b-105">**すべての単一障害点を回避します。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-105">**Avoid any single point of failure.**</span></span> <span data-ttu-id="b6f5b-106">単一障害点が可用性に影響することを防ぐため、すべてのコンポーネント、サービス、リソース、およびコンピューティング インスタンスを複数のインスタンスとして展開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-106">All components, services, resources, and compute instances should be deployed as multiple instances to prevent a single point of failure from affecting availability.</span></span> <span data-ttu-id="b6f5b-107">これには認証メカニズムが含まれます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-107">This includes authentication mechanisms.</span></span> <span data-ttu-id="b6f5b-108">複数のインスタンスを使用するための構成ができるように、そして自動的にエラーを検出して要求をエラーのないインスタンスにリダイレクトする (これはプラットフォームでは自動的に行われません) ようにアプリケーションを設計します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-108">Design the application to be configurable to use multiple instances, and to automatically detect failures and redirect requests to non-failed instances where the platform does not do this automatically.</span></span>
* <span data-ttu-id="b6f5b-109">**ワークロードを異なるサービス レベル アグリーメントごとに分解します。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-109">**Decompose workload per different service-level agreement.**</span></span> <span data-ttu-id="b6f5b-110">サービスが重要なワークロードとあまり重要ではないワークロードで構成されている場合は、それらを異なる方法で管理し、それぞれの可用性の要件を満たすようにサービスの機能とインスタンスの数を指定します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-110">If a service is composed of critical and less-critical workloads, manage them differently and specify the service features and number of instances to meet their availability requirements.</span></span>
* <span data-ttu-id="b6f5b-111">**サービスの依存関係を最少化し、把握します。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-111">**Minimize and understand service dependencies.**</span></span> <span data-ttu-id="b6f5b-112">可能な限り、使用するサービスの数を最小化し、システムに存在するすべての機能とサービスの依存関係を把握しておきます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-112">Minimize the number of different services used where possible, and ensure you understand all of the feature and service dependencies that exist in the system.</span></span> <span data-ttu-id="b6f5b-113">これには、それぞれの依存関係の性質、および各アプリケーションのエラーまたはパフォーマンス低下が全体に与える影響が含まれます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-113">This includes the nature of these dependencies, and the impact of failure or reduced performance in each one on the overall application.</span></span> <span data-ttu-id="b6f5b-114">Microsoft はほとんどのサービスで 99.9% 以上の可用性を保証しますが、これはあるアプリケーションが依存するどの追加サービスでもシステム全体の可用性の SLA を 0.1% 低下させる可能性があることを意味します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-114">Microsoft guarantees at least 99.9 percent availability for most services, but this means that every additional service an application relies on potentially reduces the overall availability SLA of your system by 0.1 percent.</span></span>
* <span data-ttu-id="b6f5b-115">重複した要求による問題が発生しないように、**可能な限り、タスクとメッセージがべき等になる (安全に繰り返しできる) ように設計します**。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-115">**Design tasks and messages to be idempotent (safely repeatable) where possible**, so that duplicated requests will not cause problems.</span></span> <span data-ttu-id="b6f5b-116">たとえば、サービスはプロデューサーとして動作するシステムの他の部分から要求として送信されたメッセージを処理する、コンシューマーとして動作することができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-116">For example, a service can act as a consumer that handles messages sent as requests by other parts of the system that act as producers.</span></span> <span data-ttu-id="b6f5b-117">メッセージが処理された後、その処理が確認される前にコンシューマーでエラーが発生した場合、プロデューサーがコンシューマーの別のインスタンスが処理できる繰り返しの要求を送信する場合があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-117">If the consumer fails after processing the message, but before acknowledging that it has been processed, a producer might submit a repeat request which could be handled by another instance of the consumer.</span></span> <span data-ttu-id="b6f5b-118">このため、前に実行された操作を繰り返すことで結果が無効と表示されないように、コンシューマーとコンシューマーが実行する操作がべき等である必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-118">For this reason, consumers and the operations they carry out should be idempotent so that repeating a previously executed operation does not render the results invalid.</span></span> <span data-ttu-id="b6f5b-119">これは、重複したメッセージの検出、または競合処理のためのオプティミスティックな方法を使用した一貫性の確認を意味する場合があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-119">This may mean detecting duplicated messages, or ensuring consistency by using an optimistic approach to handling conflicts.</span></span>
* <span data-ttu-id="b6f5b-120">**重要なトランザクションの高可用性を実装する、メッセージ ブローカーを使用します。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-120">**Use a message broker that implements high availability for critical transactions.**</span></span> <span data-ttu-id="b6f5b-121">タスクを開始したり、リモート サービスにアクセスしたりする多くのシナリオは、メッセージングを使用してアプリケーションとターゲット サービスの間の指示を渡します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-121">Many scenarios for initiating tasks or accessing remote services use messaging to pass instructions between the application and the target service.</span></span> <span data-ttu-id="b6f5b-122">最適なパフォーマンスのため、アプリケーションはメッセージを送信してから、応答を待つことなくより別の要求の処理に戻ることができる必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-122">For best performance, the application should be able to send the message and then return to process more requests, without needing to wait for a reply.</span></span> <span data-ttu-id="b6f5b-123">メッセージの配信を保証するために、このメッセージング システムは高可用性を実現する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-123">To guarantee delivery of messages, the messaging system should provide high availability.</span></span> <span data-ttu-id="b6f5b-124">Azure Service Bus のメッセージ キューは、"*少なくとも 1 回*" セマンティクスを実装します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-124">Azure Service Bus message queues implement *at least once* semantics.</span></span> <span data-ttu-id="b6f5b-125">つまり、キューに投稿された各メッセージは失われますが、特定の状況では重複したコピーが配信される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-125">This means that each message posted to a queue will not be lost, although duplicate copies may be delivered under certain circumstances.</span></span> <span data-ttu-id="b6f5b-126">メッセージの処理がべき等である場合 (前の項目を参照)、繰り返しの配信は問題にはなりません。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-126">If message processing is idempotent (see the previous item), repeated delivery should not be a problem.</span></span>
* <span data-ttu-id="b6f5b-127">**適切に機能が低下するアプリケーションを設計します**。たとえば、リソースの制限に達すると、ユーザーへの影響を最小限に抑える適切なアクションを取るようにします。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-127">**Design applications to gracefully degrade** when reaching resource limits, and take appropriate action to minimize the impact for the user.</span></span> <span data-ttu-id="b6f5b-128">アプリケーションの負荷が 1 つ以上の部分の容量を超え、これによって可用性が低下し、接続エラーが発生する可能性もあります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-128">In some cases, the load on the application may exceed the capacity of one or more parts, causing reduced availability and failed connections.</span></span> <span data-ttu-id="b6f5b-129">これを軽減するにはスケーリングが役立ちますが、リソースの可用性やコストなどのその他の要因によって制限に到達する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-129">Scaling can help to alleviate this, but it may reach a limit imposed by other factors, such as resource availability or cost.</span></span> <span data-ttu-id="b6f5b-130">この場合に、自動的に機能が適切に低下するようにアプリケーションを設計します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-130">Design the application so that, in this situation, it can automatically degrade gracefully.</span></span> <span data-ttu-id="b6f5b-131">たとえば、電子商取引システムの注文処理サブシステムに負荷がかかっている (または完全にエラーが発生している) 場合、それを一時的に無効にして、他の機能 (製品カタログの参照など) を続行することができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-131">For example, in an ecommerce system, if the order-processing subsystem is under strain (or has even failed completely), it can be temporarily disabled while allowing other functionality (such as browsing the product catalog) to continue.</span></span> <span data-ttu-id="b6f5b-132">エラーが発生しているサブシステムへの要求を遅らせることが適切な場合があります。たとえば、顧客が注文を送信し、その注文を注文サブシステムが再度使用可能になったら後で処理できるように保存することができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-132">It might be appropriate to postpone requests to a failing subsystem, for example still enabling customers to submit orders but saving them for later processing, when the orders subsystem is available again.</span></span>
* <span data-ttu-id="b6f5b-133">**急速なバースト イベントを適切に処理します。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-133">**Gracefully handle rapid burst events.**</span></span> <span data-ttu-id="b6f5b-134">ほとんどのアプリケーションは、朝一番のビジネス アプリケーションのピークや新製品が電子商取引のサイトでリリースされたときなど、時間の経過と共に変化するワークロードを処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-134">Most applications need to handle varying workloads over time, such as peaks first thing in the morning in a business application or when a new product is released in an ecommerce site.</span></span> <span data-ttu-id="b6f5b-135">自動スケールは負荷の処理に役立ちますが、追加のインスタンスがオンラインになり、要求を処理するまでに時間がかかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-135">Auto-scaling can help to handle the load, but it may take some time for additional instances to come online and handle requests.</span></span> <span data-ttu-id="b6f5b-136">アクティビティで突然、予期しないバーストが発生してもアプリケーションで過負荷が発生しないようにします。これには、キューが容量に近づいたら使用するサービスに要求のキューを入れ、適切に機能が低下するように設計します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-136">Prevent sudden and unexpected bursts of activity from overwhelming the application: design it to queue requests to the services it uses and degrade gracefully when queues are near to full capacity.</span></span> <span data-ttu-id="b6f5b-137">バーストしない条件下で、キューを排出して未処理の要求を処理するために十分なパフォーマンスと容量を確保できることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-137">Ensure that there is sufficient performance and capacity available under non-burst conditions to drain the queues and handle outstanding requests.</span></span> <span data-ttu-id="b6f5b-138">詳細については、「[Queue-Based Load Leveling Pattern (キュー ベースの負荷平準化パターン)](https://msdn.microsoft.com/library/dn589783.aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-138">For more information, see the [Queue-Based Load Leveling Pattern](https://msdn.microsoft.com/library/dn589783.aspx).</span></span>

## <a name="deployment-and-maintenance"></a><span data-ttu-id="b6f5b-139">展開と保守</span><span class="sxs-lookup"><span data-stu-id="b6f5b-139">Deployment and maintenance</span></span>
* <span data-ttu-id="b6f5b-140">**各サービスのロールの複数のインスタンスをデプロイします。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-140">**Deploy multiple instances of roles for each service.**</span></span> <span data-ttu-id="b6f5b-141">Microsoft は作成して展開するサービスの可用性を保証しますが、このような保証はサービス内の各ロールの少なくとも 2 つのインスタンスを展開する場合にのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-141">Microsoft makes availability guarantees for services that you create and deploy, but these guarantees are only valid if you deploy at least two instances of each role in the service.</span></span> <span data-ttu-id="b6f5b-142">これにより、一方のロールをアクティブにしたまま、もう一方を使用不可にすることができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-142">This enables one role to be unavailable while the other remains active.</span></span> <span data-ttu-id="b6f5b-143">これはクライアントの活動を中断せずにライブ システムに更新を展開する必要がある場合に特に重要です。一部のインスタンスをオンラインにしたまま、他のインスタンスを停止して個別にアップグレードすることができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-143">This is especially important if you need to deploy updates to a live system without interrupting clients' activities; instances can be taken down and upgraded individually while the others continue online.</span></span>
* <span data-ttu-id="b6f5b-144">**複数のデータ センターでアプリケーションをホストします。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-144">**Host applications in multiple datacenters.**</span></span> <span data-ttu-id="b6f5b-145">めったにありませんが、自然災害やインターネット障害などの事象により、データ センター全体がオフラインになる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-145">Although extremely unlikely, it is possible for an entire datacenter to go offline through an event such as a natural disaster or Internet failure.</span></span> <span data-ttu-id="b6f5b-146">最大限の可用性を提供するため、重要なビジネス アプリケーションは複数のデータ センターでホストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-146">Vital business applications should be hosted in more than one datacenter to provide maximum availability.</span></span> <span data-ttu-id="b6f5b-147">これにより、ローカル ユーザーの待機時間が短縮され、アプリケーションの更新時に柔軟性が向上する可能性もあります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-147">This can also reduce latency for local users, and provide additional opportunities for flexibility when updating applications.</span></span>
* <span data-ttu-id="b6f5b-148">**デプロイおよび保守のタスクを自動化してテストします。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-148">**Automate and test deployment and maintenance tasks.**</span></span> <span data-ttu-id="b6f5b-149">分散アプリケーションは、連携して動作する必要がある、複数の部分で構成されます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-149">Distributed applications consist of multiple parts that must work together.</span></span> <span data-ttu-id="b6f5b-150">したがって、スクリプトやデプロイ アプリケーションなど、テスト済みで実証済みのメカニズムを使用してデプロイを自動化する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-150">Deployment should therefore be automated, using tested and proven mechanisms such as scripts and deployment applications.</span></span> <span data-ttu-id="b6f5b-151">これらのメカニズムでは、構成を更新および検証し、デプロイ プロセスを自動化することができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-151">These can update and validate configuration, and automate the deployment process.</span></span> <span data-ttu-id="b6f5b-152">アプリケーションのすべてまたは一部の更新も実行するには、自動化された手法も使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-152">Automated techniques should also be used to perform updates of all or parts of applications.</span></span> <span data-ttu-id="b6f5b-153">エラーによってさらにダウンタイムが発生しないように、このすべてのプロセスを完全にテストすることが不可欠です。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-153">It is vital to test all of these processes fully to ensure that errors do not cause additional downtime.</span></span> <span data-ttu-id="b6f5b-154">すべての展開ツールには展開されたアプリケーションを保護するための、適切なセキュリティ制限が必要です。展開ポリシーは慎重に定義して適用し、人間の介入は最小限に抑えてください。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-154">All deployment tools must have suitable security restrictions to protect the deployed application; define and enforce deployment policies carefully and minimize the need for human intervention.</span></span>
* <span data-ttu-id="b6f5b-155">**プラットフォームのステージングおよび運用機能の使用を検討します** (使用できる場合)。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-155">**Consider using staging and production features of the platform** where these are available.</span></span> <span data-ttu-id="b6f5b-156">たとえば、Azure Cloud Services のステージングおよび運用環境を使用すると、仮想 IP アドレス スワップ (VIP スワップ) によってアプリケーションを簡単に切り替えることができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-156">For example, using Azure Cloud Services staging and production environments allows applications to be switched from one to another instantly through a virtual IP address swap (VIP Swap).</span></span> <span data-ttu-id="b6f5b-157">ただし、内部設置型でのステージングや、異なるバージョンのアプリケーションの同時展開によってユーザーを段階的に移行する場合は、VIP スワップの操作を使用できない場合があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-157">However, if you prefer to stage on-premises, or deploy different versions of the application concurrently and gradually migrate users, you may not be able to use a VIP Swap operation.</span></span>
* <span data-ttu-id="b6f5b-158">**再利用せずに、構成の変更を適用** します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-158">**Apply configuration changes without recycling** the instance when possible.</span></span> <span data-ttu-id="b6f5b-159">多くの場合、ロールを再起動することなく、Azure アプリケーションまたはサービスの構成設定を変更できます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-159">In many cases, the configuration settings for an Azure application or service can be changed without requiring the role to be restarted.</span></span> <span data-ttu-id="b6f5b-160">ロールは、構成の変更を検出し、それをアプリケーション内のコンポーネントに適用できるイベントを公開します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-160">Role expose events that can be handled to detect configuration changes and apply them to components within the application.</span></span> <span data-ttu-id="b6f5b-161">ただし、コア プラットフォーム設定に対する一部の変更では、ロールの再起動が必要になります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-161">However, some changes to the core platform settings do require a role to be restarted.</span></span> <span data-ttu-id="b6f5b-162">コンポーネントとサービスを構築する場合は、アプリケーション全体を再起動せずに構成設定に変更を適用できるように設計することで、可用性を最大化し、ダウンタイムを最小限に抑えてください。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-162">When building components and services, maximize availability and minimize downtime by designing them to accept changes to configuration settings without requiring the application as a whole to be restarted.</span></span>
* <span data-ttu-id="b6f5b-163">**更新中のダウンタイムをゼロにするためのアップグレード ドメインを使用します。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-163">**Use upgrade domains for zero downtime during updates.**</span></span> <span data-ttu-id="b6f5b-164">アップグレード ドメインには Web や worker ロールなどの Azure コンピュート ユニットが割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-164">Azure compute units such as web and worker roles are allocated to upgrade domains.</span></span> <span data-ttu-id="b6f5b-165">ローリング アップデートの実行時にアップグレード ドメイン内の各ロールが順番に停止し、更新され、起動するように、アップグレード ドメインはロール インスタンスをグループ化します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-165">Upgrade domains group role instances together so that, when a rolling update takes place, each role in the upgrade domain is stopped, updated, and restarted in turn.</span></span> <span data-ttu-id="b6f5b-166">これにより、アプリケーションの可用性への影響が最小限に抑えられます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-166">This minimizes the impact on application availability.</span></span> <span data-ttu-id="b6f5b-167">サービスを展開するときにサービスに対していくつのアップグレード ドメインを作成するかを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-167">You can specify how many upgrade domains should be created for a service when the service is deployed.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="b6f5b-168">すべてのロール インスタンスに影響するエラーがなるべく発生しないようにするため、ロールは障害ドメイン全体にも分散され、それぞれがサーバー ラック、処理能力、冷却に関して他の障害ドメインと適切に独立しています。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-168">Roles are also distributed across fault domains, each of which is reasonably independent from other fault domains in terms of server rack, power, and cooling provision, in order to minimize the chance of a failure affecting all role instances.</span></span> <span data-ttu-id="b6f5b-169">この分散は自動的に行われるため、制御することはできません。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-169">This distribution occurs automatically, and you cannot control it.</span></span>
  > 
  > 
* <span data-ttu-id="b6f5b-170">**Azure の仮想マシンの可用性セットを構成します。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-170">**Configure availability sets for Azure virtual machines.**</span></span> <span data-ttu-id="b6f5b-171">同じ可用性セットに 2 つ以上の仮想マシンを配置することで、これらの仮想マシンが同じ障害ドメインに展開されることがなくなります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-171">Placing two or more virtual machines in the same availability set guarantees that these virtual machines will not be deployed to the same fault domain.</span></span> <span data-ttu-id="b6f5b-172">可用性を最大化するには、システムで使用される重要な各仮想マシンに複数のインスタンスを作成し、そのインスタンスを同じ可用性セットに配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-172">To maximize availability, you should create multiple instances of each critical virtual machine used by your system and place these instances in the same availability set.</span></span> <span data-ttu-id="b6f5b-173">さまざまな目的に合う複数の仮想マシンを実行している場合は、仮想マシンごとに可用性セットを作成してください。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-173">If you are running multiple virtual machines that serve different purposes, create an availability set for each virtual machine.</span></span> <span data-ttu-id="b6f5b-174">各仮想マシンのインスタンスを各可用性セットに追加します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-174">Add instances of each virtual machine to each availability set.</span></span> <span data-ttu-id="b6f5b-175">たとえば、Web サーバーおよびレポート サーバーとして機能する別個の仮想マシンを作成した場合は、Web サーバーに対して可用性セットを 1 つ作成し、レポート サーバーに対して別の可用性セットを作成します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-175">For example, if you have created separate virtual machines to act as a web server and a reporting server, create an availability set for the web server and another availability set for the reporting server.</span></span> <span data-ttu-id="b6f5b-176">Web サーバーの可用性セットには Web サーバーの仮想マシンのインスタンスを追加し、レポート サーバーの可用性セットにはレポート サーバーの仮想マシンのインスタンスを追加します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-176">Add instances of the web server virtual machine to the web server availability set, and add instances of the reporting server virtual machine to the reporting server availability set.</span></span>

## <a name="data-management"></a><span data-ttu-id="b6f5b-177">データ管理</span><span class="sxs-lookup"><span data-stu-id="b6f5b-177">Data management</span></span>

* <span data-ttu-id="b6f5b-178">**Azure Storage のデータの geo レプリケーション**。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-178">**Geo-replicate data in Azure Storage**.</span></span> <span data-ttu-id="b6f5b-179">Azure Storage 内のデータは、データセンター内で自動的にレプリケートされます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-179">Data in Azure Storage is automatically replicated within in a datacenter.</span></span> <span data-ttu-id="b6f5b-180">さらに高い可用性を実現するには、読み取りアクセス geo 冗長ストレージを使用して (RAGRS)、セカンダリ リージョンにデータをレプリケートし、セカンダリ ロケーションのデータに読み取り専用のアクセスを付与します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-180">For even higher availability, use Read-access geo-redundant storage (-RAGRS), which replicates your data to a secondary region and provides read-only access to the data in the secondary location.</span></span> <span data-ttu-id="b6f5b-181">地域全体が停電になった場合や災害が発生した場合でも、データは保持されます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-181">The data is durable even in the case of a complete regional outage or a disaster.</span></span> <span data-ttu-id="b6f5b-182">詳細については、「[Azure Storage のレプリケーション](/azure/storage/storage-redundancy)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-182">For more information, see [Azure Storage replication](/azure/storage/storage-redundancy).</span></span>
* <span data-ttu-id="b6f5b-183">**データベースの geo レプリケーション**。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-183">**Geo-replicate databases**.</span></span> <span data-ttu-id="b6f5b-184">Azure SQL Database と Cosmos DB は、どちらも geo レプリケーションをサポートしており、他のリージョンでセカンダリ データベースのレプリカを構成できるようになっています。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-184">Azure SQL Database and Cosmos DB both support geo-replication, which enables you to configure secondary database replicas in other regions.</span></span> <span data-ttu-id="b6f5b-185">セカンダリ データベースは、データ センターで障害が発生した場合やプライマリ データベースに接続できない場合のクエリとフェールオーバーに使用できます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-185">Secondary databases are available for querying and for failover in the case of a data center outage or the inability to connect to the primary database.</span></span> <span data-ttu-id="b6f5b-186">詳細については、[フェールオーバー グループとアクティブ geo レプリケーション](/azure/sql-database/sql-database-geo-replication-overview) (SQL Database) に関するページ、および「[Azure Cosmos DB を使用してデータをグローバルに分散させる方法](/azure/cosmos-db/distribute-data-globally)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-186">For more information, see [Failover groups and active geo-replication](/azure/sql-database/sql-database-geo-replication-overview) (SQL Database) and [How to distribute data globally with Azure Cosmos DB?](/azure/cosmos-db/distribute-data-globally).</span></span>
* <span data-ttu-id="b6f5b-187">**オプティミスティック同時実行制御、および結果整合性を使用します** 。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-187">**Use optimistic concurrency and eventual consistency** where possible.</span></span> <span data-ttu-id="b6f5b-188">ロックによってリソースへのアクセスをブロックするトランザクション (ペシミスティック同時実行制御) では、パフォーマンスが低下し、可用性も大幅に低下する場合があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-188">Transactions that block access to resources through locking (pessimistic concurrency) can cause poor performance and considerably reduce availability.</span></span> <span data-ttu-id="b6f5b-189">これらの問題は、分散システムで特に深刻になります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-189">These problems can become especially acute in distributed systems.</span></span> <span data-ttu-id="b6f5b-190">多くの場合、パーティション分割などの入念な設計や技法によって、更新プログラムの競合が発生する可能性を最小限に抑えることができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-190">In many cases, careful design and techniques such as partitioning can minimize the chances of conflicting updates occurring.</span></span> <span data-ttu-id="b6f5b-191">データがレプリケートされたり、個別に更新されたスコアから読み取られたりすると、最終段階でのみ、データの一貫性が確保されます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-191">Where data is replicated, or is read from a separately updated store, the data will only be eventually consistent.</span></span> <span data-ttu-id="b6f5b-192">ただし、通常、その利点は、即座に一貫性を確保するトランザクションを使用できることに対する効果を大きく上回ります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-192">But the advantages usually far outweigh the impact on availability of using transactions to ensure immediate consistency.</span></span>
* <span data-ttu-id="b6f5b-193">**定期的なバックアップとポイントインタイム リストアを使用**し、回復ポイントの目標 (RPO) を満たしていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-193">**Use periodic backup and point-in-time restore**, and ensure it meets the Recovery Point Objective (RPO).</span></span> <span data-ttu-id="b6f5b-194">他の場所には保存されないデータを定期的に自動でバックアップして、障害発生時でもデータとアプリケーション自体の両方を安全に復元できることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-194">Regularly and automatically back up data that is not preserved elsewhere, and verify you can reliably restore both the data and the application itself should a failure occur.</span></span> <span data-ttu-id="b6f5b-195">障害、エラー、または悪意のある操作によって発生するエラーと不整合はすべてのストア間でレプリケートされるため、データ レプリケーションはバックアップ機能ではありません。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-195">Data replication is not a backup feature because errors and inconsistencies introduced through failure, error, or malicious operations will be replicated across all stores.</span></span> <span data-ttu-id="b6f5b-196">バックアップ プロセスは、転送中のデータと格納中のデータを保護するため、セキュリティで保護する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-196">The backup process must be secure to protect the data in transit and in storage.</span></span> <span data-ttu-id="b6f5b-197">データベースまたはデータ ストアの一部は通常、トランザクション ログを使用して前の時点まで回復することができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-197">Databases or parts of a data store can usually be recovered to a previous point in time by using transaction logs.</span></span> <span data-ttu-id="b6f5b-198">Microsoft Azure は、Azure SQL Database に格納されたデータのバックアップ機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-198">Microsoft Azure provides a backup facility for data stored in Azure SQL Database.</span></span> <span data-ttu-id="b6f5b-199">データは、Azure Blob Storage 上のバックアップ パッケージにエクスポートされるため、セキュリティで保護されたオンプレミスの場所にダウンロードして格納することができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-199">The data is exported to a backup package on Azure blob storage, and can be downloaded to a secure on-premises location for storage.</span></span>
* <span data-ttu-id="b6f5b-200">**Azure Redis Cache のセカンダリ コピーを保守するため、高可用性オプションを有効にします。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-200">**Enable the high availability option to maintain a secondary copy of an Azure Redis cache.**</span></span> <span data-ttu-id="b6f5b-201">Azure Redis Cache を使用する場合は、標準のオプションを選択して内容のセカンダリ コピーを保守します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-201">When using Azure Redis Cache, choose the standard option to maintain a secondary copy of the contents.</span></span> <span data-ttu-id="b6f5b-202">詳細については、「 [キャッシュの作成](https://msdn.microsoft.com/library/dn690516.aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-202">For more information, see [Create a cache in Azure Redis Cache](https://msdn.microsoft.com/library/dn690516.aspx).</span></span>

## <a name="errors-and-failures"></a><span data-ttu-id="b6f5b-203">エラーと障害</span><span class="sxs-lookup"><span data-stu-id="b6f5b-203">Errors and failures</span></span>
* <span data-ttu-id="b6f5b-204">**タイムアウトの概念を紹介します。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-204">**Introduce the concept of a timeout.**</span></span> <span data-ttu-id="b6f5b-205">サービスとリソースが使用不可能になり、要求が失敗する原因となる場合があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-205">Services and resources may become unavailable, causing requests to fail.</span></span> <span data-ttu-id="b6f5b-206">適用するタイムアウトが各サービスまたはリソースに加え、それらにアクセスしているクライアントに適切であるかどうかを確認します </span><span class="sxs-lookup"><span data-stu-id="b6f5b-206">Ensure that the timeouts you apply are appropriate for each service or resource as well as the client that is accessing them.</span></span> <span data-ttu-id="b6f5b-207">(コンテキストやクライアントが実行しているアクションによっては、クライアントの特定のインスタンスのタイムアウトを長くした方が適している場合もあります)。タイムアウトが短すぎると、待機時間が非常に長いサービスとリソースで過剰な再試行操作が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-207">(In some cases, it may be appropriate to allow a longer timeout for a particular instance of a client, depending on the context and other actions that the client is performing.) Very short timeouts may cause excessive retry operations for services and resources that have considerable latency.</span></span> <span data-ttu-id="b6f5b-208">また、タイムアウトが長すぎると、大量の要求がキューにあり、サービスまたはリソースの応答を待機している場合にブロックが発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-208">Very long timeouts can cause blocking if a large number of requests are queued, waiting for a service or resource to respond.</span></span>
* <span data-ttu-id="b6f5b-209">**一時的な障害により失敗した操作を再試行します。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-209">**Retry failed operations caused by transient faults.**</span></span> <span data-ttu-id="b6f5b-210">本来は自動的な接続再試行をサポートしていないすべてのサービスおよびリソースにアクセスするための再試行戦略を設計します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-210">Design a retry strategy for access to all services and resources where they do not inherently support automatic connection retry.</span></span> <span data-ttu-id="b6f5b-211">リソースのオーバーロードを防ぎ、キューに登録されている要求を適切に復元して処理できるように、障害の数が増えるにつれて再試行の間の遅延が増加するような戦略を使用します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-211">Use a strategy that includes an increasing delay between retries as the number of failures increases, to prevent overloading of the resource and to allow it to gracefully recover and handle queued requests.</span></span> <span data-ttu-id="b6f5b-212">非常に短い遅延の再試行が連続すると、問題が悪化する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-212">Continual retries with very short delays are likely to exacerbate the problem.</span></span>
* <span data-ttu-id="b6f5b-213">**連鎖的な障害を回避するため、要求の送信を停止します** 。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-213">**Stop sending requests to avoid cascading failures** when remote services are unavailable.</span></span> <span data-ttu-id="b6f5b-214">一時的またはその他の障害で、接続の部分的な損失からサービス全体の障害まで重要度が多岐にわたる場合、通常の状態に戻るまでに予想よりも時間がかかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-214">There may be situations in which transient or other faults, ranging in severity from a partial loss of connectivity to the complete failure of a service, take much longer than expected to return to normal.</span></span> <span data-ttu-id="b6f5b-215">さらに、サービスが非常にビジーな状態で、メモリ、スレッド、データベース接続などの重要なシステム リソースが使用されていると、システムの 1 つの部分の障害が連鎖的な障害に発展し、多くの操作がブロックされる場合があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-215">Additionally, if a service is very busy, failure in one part of the system may lead to cascading failures, and result in many operations becoming blocked while holding onto critical system resources such as memory, threads, and database connections.</span></span> <span data-ttu-id="b6f5b-216">アプリケーションは、成功の見込みのない操作を継続的に再試行するのではなく、操作が失敗していることを迅速に受け入れ、このエラーを適切に処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-216">Instead of continually retrying an operation that is unlikely to succeed, the application should quickly accept that the operation has failed, and gracefully handle this failure.</span></span> <span data-ttu-id="b6f5b-217">Circuit Breaker パターンを使用して、指定した期間の特定の操作の要求を拒否することができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-217">You can use the circuit breaker pattern to reject requests for specific operations for defined periods.</span></span> <span data-ttu-id="b6f5b-218">詳細については、「[Circuit Breaker Pattern (Circuit Breaker パターン)](../patterns/circuit-breaker.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-218">For more information, see [Circuit Breaker Pattern](../patterns/circuit-breaker.md).</span></span>
* <span data-ttu-id="b6f5b-219">**複数のコンポーネントを構成またはフォールバックして** 、特定のサービスがオフラインや使用不可になる影響を軽減します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-219">**Compose or fall back to multiple components** to mitigate the impact of a specific service being offline or unavailable.</span></span> <span data-ttu-id="b6f5b-220">なるべく操作や既存の接続に影響を与えずに複数のインスタンスを活用するようなアプリケーションを設計します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-220">Design applications to take advantage of multiple instances without affecting operation and existing connections where possible.</span></span> <span data-ttu-id="b6f5b-221">可用性を最大化するため、複数のインスタンスを使用してそれらの間に要求を分散し、失敗したインスタンスへの要求の送信を検出して回避します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-221">Use multiple instances and distribute requests between them, and detect and avoid sending requests to failed instances, in order to maximize availability.</span></span>
* <span data-ttu-id="b6f5b-222">**別のサービスまたはワークフローにフォールバックします** 。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-222">**Fall back to a different service or workflow** where possible.</span></span> <span data-ttu-id="b6f5b-223">たとえば、SQL Database への書き込みに失敗した場合は、一時的にデータを Blob Storage に格納してください。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-223">For example, if writing to SQL Database fails, temporarily store data in blob storage.</span></span> <span data-ttu-id="b6f5b-224">サービスが利用可能になったら、Blob Storage への書き込みを SQL Database に再実行する機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-224">Provide a facility to replay the writes in blob storage to SQL Database when the service becomes available.</span></span> <span data-ttu-id="b6f5b-225">失敗した操作には、コンポーネントまたはサービスが失敗してもアプリケーションが動作し続けられるような代替の操作がある場合もあります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-225">In some cases, a failed operation may have an alternative action that allows the application to continue to work even when a component or service fails.</span></span> <span data-ttu-id="b6f5b-226">可能であれば、エラーを検出し、適切な代替機能を提供できる他のサービスか、プライマリ サービスがオフラインの間もコアな操作を維持できるバックアップ機能または制限された機能のインスタンスに要求をリダイレクトします。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-226">If possible, detect failures and redirect requests to other services that can offer a suitable alternative functionality, or to back up or reduced functionality instances that can maintain core operations while the primary service is offline.</span></span>

## <a name="monitoring-and-disaster-recovery"></a><span data-ttu-id="b6f5b-227">監視と障害復旧</span><span class="sxs-lookup"><span data-stu-id="b6f5b-227">Monitoring and disaster recovery</span></span>
* <span data-ttu-id="b6f5b-228">**可能性の高い障害や障害イベントの豊富なインストルメンテーションを提供します** 。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-228">**Provide rich instrumentation for likely failures and failure events** to report the situation to operations staff.</span></span> <span data-ttu-id="b6f5b-229">可能性が高いがまだ発生していない障害については、運用スタッフが原因を判別し、状況を緩和し、システムが引き続き使用できるようにするための十分なデータを提供します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-229">For failures that are likely but have not yet occurred, provide sufficient data to enable operations staff to determine the cause, mitigate the situation, and ensure that the system remains available.</span></span> <span data-ttu-id="b6f5b-230">既に発生している障害については、アプリケーションがユーザーに適切なエラー メッセージを返しながらも、機能が制限された状態で実行を続行しようとする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-230">For failures that have already occurred, the application should return an appropriate error message to the user but attempt to continue running, albeit with reduced functionality.</span></span> <span data-ttu-id="b6f5b-231">どの場合も、監視システムは運用スタッフが迅速な回復が行えるように包括的な詳細をキャプチャし、必要に応じてデザイナーと開発者が状況の再発を防ぐため、システムを修正する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-231">In all cases, the monitoring system should capture comprehensive details to enable operations staff to effect a quick recovery, and if necessary, for designers and developers to modify the system to prevent the situation from arising again.</span></span>
* <span data-ttu-id="b6f5b-232">**チェック機能を実装することでシステム正常性を監視します。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-232">**Monitor system health by implementing checking functions.**</span></span> <span data-ttu-id="b6f5b-233">アプリケーションの正常性とパフォーマンスは、時間の経過と共に低下し、障害が発生するまで気づかない場合があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-233">The health and performance of an application can degrade over time, without being noticeable until it fails.</span></span> <span data-ttu-id="b6f5b-234">アプリケーションの外部から定期的に実行されるプローブやチェック機能を実装してください。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-234">Implement probes or check functions that are executed regularly from outside the application.</span></span> <span data-ttu-id="b6f5b-235">これらのチェックは、アプリケーション全体、アプリケーションの個々 の部分、アプリケーションが使用する個々 のサービス、または個々 のコンポーネントの応答時間を測定するのと同じくらい単純にすることができます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-235">These checks can be as simple as measuring response time for the application as a whole, for individual parts of the application, for individual services that the application uses, or for individual components.</span></span> <span data-ttu-id="b6f5b-236">チェック機能はプロセスを実行することで、有効な結果が生成され、待機時間とチェック機能が測定され、システムから情報が抽出されていることを確認できます。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-236">Check functions can execute processes to ensure they produce valid results, measure latency and check availability, and extract information from the system.</span></span>
* <span data-ttu-id="b6f5b-237">**すべてのフェールオーバーおよびフォールバック システムを定期的にテストすることで** 、期待どおりに使用でき、動作することを確認します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-237">**Regularly test all failover and fallback systems** to ensure they are available and operate as expected.</span></span> <span data-ttu-id="b6f5b-238">システムおよび操作の変更はフェールオーバーおよびフォールバック機能に影響を与える可能性がありますが、その影響はメインのシステムで障害が発生するか、オーバーロードが発生するまで検出されない場合があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-238">Changes to systems and operations may affect failover and fallback functions, but the impact may not be detected until the main system fails or becomes overloaded.</span></span> <span data-ttu-id="b6f5b-239">実行時に、発生中の問題を補正しなければならなくなる前にテストしてください。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-239">Test it before it is required to compensate for a live problem at runtime.</span></span>
* <span data-ttu-id="b6f5b-240">**監視システムをテストします。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-240">**Test the monitoring systems.**</span></span> <span data-ttu-id="b6f5b-241">自動フェールオーバーとフォールバック システム、およびダッシュボードを使用したシステム正常性とパフォーマンスの手動の視覚化はすべて、正常に機能している監視およびインストルメンテーションに依存しています。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-241">Automated failover and fallback systems, and manual visualization of system health and performance by using dashboards, all depend on monitoring and instrumentation functioning correctly.</span></span> <span data-ttu-id="b6f5b-242">これらの要素で障害、重要な情報の不足、不適切なデータの報告が発生すると、オペレーターはシステムが正常でないことやシステムで障害が発生していることに気付かない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-242">If these elements fail, miss critical information, or report inaccurate data, an operator might not realize that the system is unhealthy or failing.</span></span>
* <span data-ttu-id="b6f5b-243">**実行時間の長いワークフローの進行状況を追跡し** 、障害発生時に再試行します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-243">**Track the progress of long-running workflows** and retry on failure.</span></span> <span data-ttu-id="b6f5b-244">実行時間の長いワークフローは多くの場合、複数の手順で構成されています。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-244">Long-running workflows are often composed of multiple steps.</span></span> <span data-ttu-id="b6f5b-245">各手順が独立していること、および各手順の再試行によってワークフロー全体のロールバックや、複数の補正トランザクションを実行しなければならない事態が最小限に抑えられることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-245">Ensure that each step is independent and can be retried to minimize the chance that the entire workflow will need to be rolled back, or that multiple compensating transactions need to be executed.</span></span> <span data-ttu-id="b6f5b-246">[Scheduler Agent Supervisor パターン](https://msdn.microsoft.com/library/dn589780.aspx)などのパターンを実装して、実行時間の長いワークフローの進行状況を監視し、管理します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-246">Monitor and manage the progress of long-running workflows by implementing a pattern such as [Scheduler Agent Supervisor Pattern](https://msdn.microsoft.com/library/dn589780.aspx).</span></span>
* <span data-ttu-id="b6f5b-247">**障害復旧を計画します。**</span><span class="sxs-lookup"><span data-stu-id="b6f5b-247">**Plan for disaster recovery.**</span></span> <span data-ttu-id="b6f5b-248">十分なテストを実施した許容可能な計画を作成し、システムの可用性に影響を及ぼす可能性のある、あらゆる種類の障害から復旧できるようにします。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-248">Create an accepted, fully-tested plan for recovery from any type of failure that may affect system availability.</span></span> <span data-ttu-id="b6f5b-249">ミッションクリティカルなあらゆるアプリケーションに対応できる、マルチサイトのディザスター リカバリー アーキテクチャを選択します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-249">Choose a multi-site disaster recovery architecture for any mission-critical applications.</span></span> <span data-ttu-id="b6f5b-250">自動化やテストも含めたディザスター リカバリー プランの特定のオーナーを指定します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-250">Identify a specific owner of the disaster recovery plan, including automation and testing.</span></span> <span data-ttu-id="b6f5b-251">計画の内容が詳細に文書化されていることを確認し、可能な限り、プロセスを自動化します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-251">Ensure the plan is well-documented, and automate the process as much as possible.</span></span> <span data-ttu-id="b6f5b-252">すべての参照データとトランザクション データに対してバックアップ戦略を確立し、これらのバックアップの復元を定期的にテストします。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-252">Establish a backup strategy for all reference and transactional data, and test the restoration of these backups regularly.</span></span> <span data-ttu-id="b6f5b-253">運用スタッフに対して計画実行のトレーニングを行うと共に、災害のシミュレーションを定期的に実施して計画を検証、および改善します。</span><span class="sxs-lookup"><span data-stu-id="b6f5b-253">Train operations staff to execute the plan, and perform regular disaster simulations to validate and improve the plan.</span></span>
