---
title: 'Azure の導入: 中級'
description: 企業が Azure を導入するのに必要な中級レベルの知識について説明します
author: petertay
ms.openlocfilehash: 227d9558647ed8076b2832d95e192f2f0c43b9db
ms.sourcegitcommit: 26b04f138a860979aea5d253ba7fecffc654841e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/19/2018
ms.locfileid: "36206363"
---
# <a name="azure-cloud-adoption-guide-intermediate-overview"></a>Azure クラウド導入ガイド: 概要 (中級)

基本導入ステージでは、Azure リソース ガバナンスの基本的な概念について説明しました。 基本ステージは、Azure の導入を開始することを目的としており、シンプルなワークロードを 1 つの小さなチームでデプロイする方法を順を追って解説しました。 実際には、大規模な組織のほとんどが多くのチームを抱えており、各チームがさまざまなワークロードを同時に処理しています。 ご想像どおり、シンプルなガバナンス モデルでは、複雑な組織および開発シナリオを管理するには不十分です。

Azure 導入の中級ステージでは、主に、複数の新しい Azure 開発ワークロードを処理している複数のチームを対象としたガバナンス モデルを設計します。  

ガイドのこのステージは、組織内の次のペルソナを対象としています。
- "*財務:*" Azure の財務コミットメントの所有者。請求、チャージバックなど、リソース使用量のコストを追跡するためのポリシーおよび手順の開発を担当します。
- "*中央 IT:*" リソースの管理、アクセスなど、組織のクラウド リソース管理のほか、ワークロードの正常性や監視を担当します。
- "*共有インフラストラクチャ所有者:*" オンプレミスからクラウドへのネットワーク接続を担当する技術的なロールです。
- "*セキュリティ操作:*" オンプレミスのセキュリティ境界を拡張して Azure を含めるのに必要なセキュリティ ポリシーの実装を担当します。 シークレットを格納するための独自のセキュリティ インフラストラクチャを Azure に所有している場合もあります。
- "*ワークロード所有者:*" Azure へのワークロードの公開を担当します。 組織の開発チームの構造によっては、開発主任、プログラム管理主任、ビルド エンジニアリング主任である場合があります。 公開プロセスの一環として、Azure へのリソースのデプロイが含まれることがあります。
  - "*ワークロード共同作成者:*" Azure へのワークロードの公開に協力する責任を負います。 パフォーマンスの監視またはチューニングのために、Azure リソースへの読み取りアクセスが必要になる場合があります。 リソースを作成、更新、または削除するアクセス許可は必要ありません。

## <a name="section-1-azure-concepts-for-multiple-workloads-and-multiple-teams"></a>セクション 1: Azure における複数のワークロードと複数のチームの概念

基本導入ステージでは、Azure 内部の基本事項と、リソースの作成、読み取り、更新、および削除方法について説明しました。 また、ID のほか、Azure が Azure Active Directory (AD) のみを信頼して、これらのリソースにアクセスする必要があるユーザーを認証および承認していることも取り上げました。

さらに、組織による Azure リソースの使用を管理できるように、Azure ガバナンス ツールを構成する方法についても学習し始めました。 基本ステージでは、シンプルなワークロードのデプロイに必要なリソースへの、1 つのチームによるアクセスを管理する方法を説明しました。 実際の組織では、複数のチームが、複数のワークロードを同時に処理しています。 

まずは、**ワークロード**という言葉が実際は何を意味しているかを確認しましょう。 この言葉は、通常、アプリケーション、サービスなどの機能の任意の単位を定義するものとして、認識されています。 ワークロードを、サーバーおよびその他の必要な任意のサービス (データベースなど) にデプロイされているコード成果物の観点から考えるのです。 オンプレミス アプリケーションまたはサービスついては、この定義が便利です。しかし、クラウドでは、さらに踏み込む必要があります。 

クラウドでのワークロードに含まれるのは、すべての成果物だけではありません。クラウド リソースも含まれています。 クラウド リソースをこの定義に含める理由は、**コードとしてのインフラストラクチャ**と呼ばれる概念です。 "Azure のしくみ" の説明で確認したように、Azure ではリソースがオーケストレーター サービスによってデプロイされます。 オーケストレーター サービスでは、この機能は Web API を使用して公開され、この Web API は、Powershell、Azure コマンド ライン インターフェイス (CLI)、Azure portal など、複数のツールを使用して呼び出すことができます。 つまり、リソースは、アプリケーションに関連付けられているコード成果物と共に格納できる、コンピューターが読み取り可能なファイルで指定できます。

これにより、コード成果物および必要なクラウド リソースという観点からワークロードを定義でき、さらにはワークロードを**分離**することができます。 ワークロードは、リソースが整理されている方法、ネットワーク トポロジ、またはその他の属性によって分離できます。 ワークロードを分離する目的は、ワークロード固有のリソースをチームに関連付け、これらのリソースのあらゆる側面を個別に管理できるようにすることです。 こうすることで、複数のチームが Azure でリソース管理サービスを共有する際に、お互いのリソースを誤って削除または変更してしまうのを防ぐことができます。

また、この分離により、[DevOps](https://azure.microsoft.com/solutions/devops/) という概念も有効になります。 DevOps にはソフトウェア開発プラクティスが含まれます。これには上記のソフトウェア開発と IT 操作の両方が含まれますが、可能な限り自動化が使用されます。 DevOps の原則の 1 つは、継続的インテグレーションと継続的デリバリー (CI/CD) と呼ばれます。 継続的インテグレーションは、開発者がコード変更をコミットするたびに実行される自動ビルド プロセスを意味します。一方、継続的デリバリーは、**開発環境** (テストの場合)、**運用環境** (最終デプロイの場合) など、さまざまな**環境**へのこのコードの自動デプロイ プロセスを意味します。

## <a name="section-2-governance-design-for-multiple-teams-and-multiple-workloads"></a>セクション 2: 複数のチームと複数のワークロードのガバナンス設計

Azure クラウド導入ガイドの[基本ステージ](/azure/architecture/cloud-adoption-guide/adoption-intro/overview)では、クラウド ガバナンスの概念を紹介しました。 つまり、1 つのチームが 1 つのワークロードで作業する、シンプルなガバナンス モデルを設計する方法について説明しました。 

中級ステージの[ガバナンス設計ガイド](governance-design-guide.md)では、基本概念からさらに踏み込み、複数のチーム、複数のワークロード、複数の環境を追加します。 ドキュメントの例を確認したら、設計原則を、ご自身の組織のガバナンス モデルの設計と実装に適用できます。

## <a name="section-3-implementing-a-resource-management-model"></a>セクション 3: リソース管理モデルの実装

ご自身の組織のクラウド ガバナンス モデルは、Azure のリソース アクセス管理ツール、ご自身のユーザー、およびご自身で定義したアクセス管理ルールが交差する部分を表します。 ガバナンス設計ガイドでは、Azure リソースへのアクセスを管理するためのモデルをいくつか取り上げて説明します。 ここでは、設計ガイドの**共有インフラストラクチャ**環境、**運用**環境、**開発**環境それぞれに、1 つのサブスクリプションが含まれるリソース管理モデルを実装する手順を説明します。 この 3 つの環境すべてに 1 人の**サブスクリプション所有者**がいます。 ワークロードはそれぞれ、**共同作成者**ロールと共に追加された**ワークロード所有者**を含む**リソース グループ**に分離されます。

> [!NOTE]
> Azure アカウントとサブスクリプション間のリレーションシップの詳細については、[Azure でのリソース アクセス][understand-resource-access-in-azure]に関するページをご覧ください。 

次の手順に従います。

1. [Azure アカウント](/azure/active-directory/sign-up-organization)を作成します (まだ組織にない場合)。 Azure アカウントにサインアップしたユーザーは、Azure アカウント管理者になります。また、組織の指導者は、このロールを担う個人を選択する必要があります。 この個人は、次を担当します。
    * サブスクリプションの作成。
    * これらのサブスクリプションのユーザー ID が格納される [Azure Active Directory (AD)](/azure/active-directory/active-directory-whatis) テナントの作成と管理。    
2. ご自身の組織の指導チームは、次の作業を行う担当者を決めます。
    * ユーザー ID の管理。ご自身の組織の Azure アカウントの作成時に [Azure AD テナント](/azure/active-directory/develop/active-directory-howto-tenant)が既定で作成されます。アカウント管理者は、[Azure AD グローバル管理者](/azure/active-directory/active-directory-assign-admin-roles-azure-portal#details-about-the-global-administrator-role)として既定で追加されます。 ご自身の組織がユーザー ID 管理の担当者として別のユーザーを選択するには、[そのユーザーに Azure AD グローバル管理者ロールを割り当て](/azure/active-directory/active-directory-users-assign-role-azure-portal)ます。 
    * サブスクリプション。これらのユーザーは次を行います。
        * そのサブスクリプションのリソース使用量に関連付けられているコストの管理。
        * リソース アクセスのための最小限のアクセス許可モデルの実装と維持。
        * サービス制限の追跡。
    * 共有インフラストラクチャ サービス (ご自身の組織がこのモデルの使用を決めた場合)。このユーザーは次を担当します。
        * オンプレミスと Azure ネットワークの接続。 
        * Azure 内での仮想ネットワーク ピアリング経由のネットワーク接続の所有権。
    * ワークロード所有者。 
3. Azure AD グローバル管理者は、次に対する[ユーザー アカウントを新しく作成](/azure/active-directory/add-users-azure-active-directory)します。
    * 各環境に関連付けられている各サブスクリプションの**サブスクリプション所有者**になる人。 これは、サブスクリプション **サービス管理者**に、各サブスクリプション/環境のリソース アクセス管理のタスクが割り当てられない場合にのみ必要です。
    * **ネットワーク操作ユーザー**になる人。
    * **ワークロード所有者**になる人。
4. Azure アカウント管理者は、[Azure アカウント ポータル](https://account.azure.com)を使用して、次の 3 つのサブスクリプションを作成します。
    * **共有インフラストラクチャ**環境のサブスクリプション。
    * **運用**環境のサブスクリプション。 
    * **開発**環境のサブスクリプション。 
5. Azure アカウント管理者は、[サブスクリプション サービス所有者を各サブスクリプションに追加](/azure/billing/billing-add-change-azure-subscription-administrator#add-an-rbac-owner-admin-for-a-subscription-in-azure-portal)します。
6. **ワークロード所有者**の承認プロセスを作成して、リソース グループの作成を要求します。 承認プロセスは、さまざまな方法で実装できます。たとえば、電子メールや、[SharePoint ワークフロー](https://support.office.com/article/introduction-to-sharepoint-workflow-07982276-54e8-4e17-8699-5056eff4d9e3)などのプロセス管理ツールを使用できます。 承認プロセスでは、次の手順に従うことができます。  
    * **ワークロード所有者**は、**開発**環境、**運用**環境、またはその両方で、必要な Azure リソースの部品表を準備して、**サブスクリプション所有者**に送信します。
    * **サブスクリプション所有者**は部品表を確認し、要求されたリソースを検証して、そのリソースが計画的な使用に適していることを確かめます。たとえば、要求された[仮想マシンのサイズ](/azure/virtual-machines/windows/sizes)が正しいことをチェックします。
    * 要求が承認されなかった場合は、**ワークロード所有者**に通知されます。 要求が承認された場合、**サブスクリプション所有者**は、自分の組織の[名前付け規則](/azure/architecture/best-practices/naming-conventions)に従って[要求されたリソース グループを作成](/azure/azure-resource-manager/resource-group-portal#manage-resource-groups)し、[**共同作成者**ロール](/azure/role-based-access-control/built-in-roles#contributor)と共に[**ワークロード所有者**を追加](/azure/role-based-access-control/role-assignments-portal#add-access)して、リソース グループが作成されたことを**ワークロード所有者**に通知します。
7. ワークロード所有者の承認プロセスを作成して、仮想ネットワーク ピアリング接続を共有インフラストラクチャ所有者に要求します。 前の手順と同様に、この承認プロセスは、電子メールまたはプロセス管理ツールを使用して実装できます。

ガバナンス モデルが実装されたので、共有インフラストラクチャ サービスをデプロイできます。

## <a name="section-4-deploy-shared-infrastructure-services"></a>セクション 4: 共有インフラストラクチャ サービスのデプロイ

ご自身の組織がオンプレミス ネットワークを Azure に接続するために使用できる[ハイブリッド ネットワークの参照アーキテクチャ](/azure/architecture/reference-architectures/hybrid-networking/)は複数あります。 これらの参照アーキテクチャそれぞれに、サブスクリプション ID を必要とするデプロイ環境が含まれています。 デプロイ中に、ご自身の**共有インフラストラクチャ**環境に関連付けられているサブスクリプションに対して、サブスクリプション ID を指定します。 **ネットワーク操作**ユーザーが管理するリソース グループが指定されるように、テンプレート ファイルを編集する必要もあります。また、デプロイ環境で既定のリソース グループを使用して、**ネットワーク操作**ユーザーと**共同作成者**ロールを追加することもできます。

<!-- links -->
[understand-resource-access-in-azure]: /azure/role-based-access-control/rbac-and-directory-admin-roles